/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
!function(t,e,n,a){"use strict";function o(){var e=JSON.parse(localStorage.events);e.forEach(function(e){t("#event-listing tbody").append('<tr data-event-id="'+e.id+'">\t\t\t\t\t\t\t\t\t\t<td>'+e.name+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.topic+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.speaker+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.date.day+" "+e.date.month+" "+e.date.year+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.time_24h.hour+":"+e.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t')})}function i(e){t(".wdw").hide(),t("#"+e).show()}function l(){t("#linkRegister").fadeOut(500),t("#linkLogin").fadeOut(500),t("#linkLogout").fadeIn(500)}function r(){var e=t("#inputpostimg").val(),n=t("#inputposttitel").val(),a=t("#inputpostdesc").val(),o=t("#inputpostlocation").val(),i={postimageurl:e,posttitel:n,postdesc:a,postloc:o};console.log(i)}function d(){var t={username:"username",password:"password"};localStorage.setItem("credentials",JSON.stringify(t))}function s(){var e=JSON.parse(localStorage.partners);t("#partners-table tbody").html(""),e.forEach(function(e){t("#partners-table tbody").append("<tr>        <td>"+e.id+"</td>        <td>"+e.name+"</td>        <td>"+e.type+"</td>        <td>"+e.description+"</td>        <td>"+e.partnerpic_src+"</td>        <td><i class='fa fa-pencil' id='edit-partner-btn' data-partner-id = '"+e.id+"'></i>        <i class='fa fa-trash' id='delete-partner-btn' data-partner-id = '"+e.id+"'></i></td>        </tr>")})}function c(t,e,n){t=t.toLowerCase(),e=e.toLowerCase(),console.log("The input value is: "+t),console.log("The JSON data to compare is: "+e);var a=e.includes(t);console.log("The bool = "+a),1==a?(console.log("True"),jResults.add(n)):console.log("False")}null==localStorage.events?(console.log("localStorage.events is empty"),t.getJSON("assets/data/events.json").done(function(t){console.log(t),t=JSON.stringify(t),localStorage.events=t,console.log("localStorage.events successfully populated"),o()})):localStorage.events&&(console.log("localStorage.events has data"),o()),t("#create-event-btn").on("click",function(){console.log("save-btn clicked");var e=new Date;e=e.valueOf();var n=t("#wdw-event-create").find("input[name='event-name']").val(),a=t("#wdw-event-create").find("input[name='event-topics']").val(),o=t("#wdw-event-create").find("input[name='event-level']").val(),i=t("#wdw-event-create").find("input[name='event-speaker']").val(),l=t("#wdw-event-create").find("input[name='event-speaker-org']").val(),r=new Date(t("#wdw-event-create").find("input[name='event-date']").val()),d=t("#wdw-event-create").find("input[name='event-time']").val(),s=t("#wdw-event-create").find("input[name='event-info']").val();console.log(p);var c=[],c=a.split(",");for(console.log(c),u=0;u<c.length;u++)" "==c[u].charAt(0)&&(console.log("first char: "+c[u].charAt(0)),c[u]=c[u].slice(1,c[u].length),console.log("str now equals "+c[u]))," "==c[u].charAt(c[u].length-1)&&(console.log("last char: "+c[u].charAt(0)),c[u]=c[u].slice(0,c[u].length-1),console.log("str now equals "+c[u]));console.log(c);var p=d.split(":",2);p.forEach(function(t){if(console.log("aTime Foreach"),console.log(t.length),t.length>2)return console.log(t),void console.log("Invalid time");if(t.length<=2){var e=p.indexOf(t);0==e?(console.log(t),r.setHours(t)):1==e&&(console.log(t),r.setMinutes(t))}}),console.log(r);var v={id:e,name:n,topic:c,level:o,speaker:i,speaker_organization:l,date:{day:r.getDate(),month:r.getMonth(),year:r.getFullYear()},time_24h:{hour:r.getHours(),minute:r.getMinutes()},info:s,past:!1};console.log(v);var g=JSON.parse(localStorage.events);g.push(v),localStorage.setItem("events",JSON.stringify(g)),t("#event-listing").append('<tr data-event-id="'+v.id+'">\t\t\t\t\t\t\t\t\t<td>'+v.name+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.topic+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.speaker+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.date.day+" "+v.date.month+" "+v.date.year+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.time_24h.hour+":"+v.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t</tr>\t')}),t(n).on("click","#edit-event-icon",function(){console.log(".fa-pencil icon clicked");var e=t(this).parent().parent().data("event-id");t("#wdw-event-update").attr("data-event-id",e);var a=JSON.parse(localStorage.events);a.forEach(function(a){if(a.id==e){var o=a.date.year+"-"+a.date.month+"-"+a.date.day,i=o.split("-");if(1==i[1].length){var l=i[1].toString(),r="0",d=r.concat(l);i[1]=d,console.log(i[1])}if(1==i[2].length){var l=i[2].toString(),r="0",d=r.concat(l);i[2]=d,console.log(i[2])}var o=a.date.year+"-"+i[1]+"-"+i[2];console.log(o),t("#wdw-event-update").find("input[name='event-name']").val(a.name),t("#wdw-event-update").find("input[name='event-topics']").val(a.topic),t("#wdw-event-update").find("input[name='event-level']").val(a.level),t("#wdw-event-update").find("input[name='event-speaker']").val(a.speaker),t("#wdw-event-update").find("input[name='event-speaker-org']").val(a.speaker_organization),n.getElementById("edit-event-date").value=o,t("#wdw-event-update").find("input[name='event-time']").val(a.time_24h.hour+":"+a.time_24h.minute),t("#wdw-event-update").find("input[name='event-info']").val(a.info)}})}),t("#update-event-btn").on("click",function(){console.log("#update-event clicked");var e=t("#wdw-event-update").attr("data-event-id"),a=t("#wdw-event-update").find("input[name='event-name']").val(),o=t("#wdw-event-update").find("input[name='event-topics']").val(),i=t("#wdw-event-update").find("input[name='event-level']").val(),l=t("#wdw-event-update").find("input[name='event-speaker']").val(),r=t("#wdw-event-update").find("input[name='event-speaker-org']").val(),d=new Date(t("#wdw-event-update").find("input[name='event-date']").val()),s=t("#wdw-event-update").find("input[name='event-time']").val(),c=t("#wdw-event-update").find("input[name='event-info']").val();console.log(v);var p=[],p=o.split(",");for(console.log(p),u=0;u<p.length;u++)" "==p[u].charAt(0)&&(console.log("first char: "+p[u].charAt(0)),p[u]=p[u].slice(1,p[u].length),console.log("str now equals "+p[u]))," "==p[u].charAt(p[u].length-1)&&(console.log("last char: "+p[u].charAt(0)),p[u]=p[u].slice(0,p[u].length-1),console.log("str now equals "+p[u]));console.log(p);var v=s.split(":",2);v.forEach(function(t){if(console.log("aTime Foreach"),console.log(t.length),t.length>2)return console.log(t),void console.log("Invalid time");if(t.length<=2){var e=v.indexOf(t);0==e?(console.log(t),d.setHours(t)):1==e&&(console.log(t),d.setMinutes(t))}}),console.log(d);var g={id:e,name:a,topic:p,level:i,speaker:l,speaker_organization:r,date:{day:d.getDate(),month:d.getMonth(),year:d.getFullYear()},time_24h:{hour:d.getHours(),minute:d.getMinutes()},info:c,past:!1};console.log(g);var f=JSON.parse(localStorage.events);f.forEach(function(t){t.id==g.id&&f.splice(f.indexOf(t),1)}),f.push(g),localStorage.setItem("events",JSON.stringify(f)),t("#wdw-event-update").attr("data-event-id",""),t(n).find("[data-event-id="+g.id+"]").remove(),t("#event-listing tbody").prepend('<tr data-event-id="'+g.id+'">\t\t\t\t\t\t\t\t\t<td>'+g.name+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.topic+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.speaker+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.date.day+" "+g.date.month+" "+g.date.year+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.time_24h.hour+":"+g.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t</tr>\t')}),t("#cancel-update-event-btn").on("click",function(){t("#wdw-event-update").attr("data-event-id","")}),t(n).on("click","#delete-event-icon",function(){console.log(".fa-trash icon clicked");var e=t(this).parent().parent().data("event-id"),a=JSON.parse(localStorage.events);a.forEach(function(t){t.id==e&&(a.splice(a.indexOf(t),1),console.log("ID "+t.id+"spliced from localTemp"))}),console.log(a),localStorage.events=JSON.stringify(a),t(n).find("[data-event-id="+e+"]").remove()});var p=[];if(localStorage.sEvents){var v=localStorage.sEvents;p=JSON.parse(v)}t(function(){});for(var u=0;u<p.length;u++)t("#lblEvents").append('<tr><th scope="row"><h4>'+p[u].id+"</h4></th><td><h4>"+p[u].name+'</h4></td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>');t("#postbtn").on("click",function(){var e=(new Date).getTime(),n=t("#inputpostimg").val(),a=t("#inputpostevent").val(),o=t("#inputpostdesc").val(),l=t("#inputpostlocation").val(),r="link";t("#lblEvents").append("<tr><td>"+a+"</td><td>"+l+"</td><td>"+e+"</td><td>"+r+'</td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>'),i("wdw-calendar");var d={};d.id=(new Date).getTime(),d.imageUrl=n,d.postevent=a,d.PostDesc=o,d.sPostLocation=l,p.push(d);var s=JSON.stringify(p);localStorage.sEvents=s}),t("#lblEvents div").each(function(e){console.log(e+": "+t(this).text()),t(this).css}),t(n).ready(function(){i("wdw-home")}),t(n).ready(function(){d()}),t("#loginbtn").on("click",function(){var e=JSON.parse(localStorage.getItem("credentials")),n=JSON.parse(localStorage.getItem("credentialsMember")),a=t("#inputusername").val(),o=t("#inputpassword").val();e.username===a&&e.password===o||n.username===a&&n.password===o?(console.log("Welcome Mr.   "+e.username),l(),t(".brand h1").text("Logged in as Admin # "+e.username),i("wdw-register-member"),console.log(n.username+n.password)):console.log("failed login")}),t("#memberbtn").on("click",function(){var e=t("#inputfnamereg").val(),n=t("#inputlnamereg").val(),a=t("#inputemailreg").val(),o=t("#inputlocationreg").val(),l=t("#inputusernamereg").val(),r=t("#inputpasswordreg").val(),d={fname:e,lname:n,email:a,location:o,username:l,password:r};localStorage.setItem("credentialsMember",JSON.stringify(d)),console.log("Local Storage store",d),i("wdw-login")}),t(n).ready(function(){t("#wdw-edit-partner").hide(),t("#wdw-add-partner").hide(),t("#partners-table tbody").html("");var e=[];null!==localStorage.getItem("partners")&&(e=JSON.parse(localStorage.partners),console.log("local storage: ",e)),t.getJSON("assets/data/partners.json",function(t){null!=localStorage.getItem("partners")&&"[]"!=localStorage.getItem("partners")||(localStorage.partners=JSON.stringify(t)),t.forEach(function(t){var e={};e.id=t.id,e.name=t.name,e.description=t.description,e.partnerpic_src=t.partnerpic_src,console.log("Partner id.",e.id,", name: ",e.name,", description: ",e.description,", picture/logo: ",e.partnerpic_src)}),s()})});var g;t("body").on("click","#edit-partner-btn",function(){g=t(this).data("partner-id"),t("#wdw-list-partners").hide(),t("#wdw-edit-partner").show();var e=JSON.parse(localStorage.partners);e.forEach(function(e){e.id==g&&(t("input[name='partner-name']").val(e.name),t("input[name='partner-type']").val(e.type),t("input[name='partner-descr']").val(e.description),t("input[name='partner-pict']").val(e.partnerpic_src))})}),t("#partner-save-btn").on("click",function(){var e={};e.id=g,e.name=t("input[name='partner-name']").val(),e.type=t("input[name='partner-type']").val(),e.description=t("input[name='partner-descr']").val(),e.partnerpic_src=t("input[name='partner-pict']").val();var n=JSON.parse(localStorage.partners);n.forEach(function(t,a){t.id==g&&(n[a]=e)}),localStorage.setItem("partners",JSON.stringify(n)),t("#wdw-edit-partner").hide(),s(),t("#wdw-list-partners").show()}),t("#cancel-btn").on("click",function(){t("#wdw-edit-partner").hide(),t("#wdw-list-partners").show()}),t("#add-partner-btn").on("click",function(){t("#wdw-list-partners").hide(),t("#wdw-add-partner").show()}),t("#partner-add-now-btn").on("click",function(){var e={};e.name=t("input[name='partner-add-name']").val(),e.type=t("input[name='partner-add-type']").val(),e.description=t("input[name='partner-add-descr']").val(),e.partnerpic_src=t("input[name='partner-add-pict']").val(),t("input[name='partner-add-name']").val(""),t("input[name='partner-add-type']").val(""),t("input[name='partner-add-descr']").val(""),t("input[name='partner-add-pict']").val("");var n=JSON.parse(localStorage.partners);e.id=n.length+1,n.push(e),localStorage.setItem("partners",JSON.stringify(n)),s(),t("#wdw-add-partner").hide(),t("#wdw-list-partners").show()}),t("#cancel-btn2").on("click",function(){t("#wdw-add-partner").hide(),t("#wdw-list-partners").show()}),t("body").on("click","#delete-partner-btn",function(){g=t(this).data("partner-id");var e=JSON.parse(localStorage.partners);e.forEach(function(t,n){t.id==g&&swal({title:"Are you sure?",text:"Do you want to delete this partner!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){e.splice(n,1),localStorage.setItem("partners",JSON.stringify(e)),s(),swal("Deleted!","The partner has been deleted.","success")})})}),t("#searchEvents").on("click",function(){var e=t("#search-engine").val(),n=e.split(" ");console.log(n);var a=JSON.parse(localStorage.events);n.forEach(function(t){var e=t;a.forEach(function(t){var n=t.name,a=(t.topic,t.level),o=t.speaker_organization;t.location;c(e,n),c(e,a),c(e,o)})})}),t("#postbtn").on("click",function(){r(),console.log("post event")}),t("#linkLogin").on("click",function(){i("wdw-login"),console.log("Nav - login clicked")}),t("#linkHome").on("click",function(){i("wdw-home"),console.log("Nav - Home Clicked ")}),t("#linkEvents").on("click",function(){i("wdw-events"),console.log("Nav - Link Event")}),t("#linkNews").on("click",function(){i("wdw-news"),console.log("Nav - News clicked")}),t("#linkCalendar").on("click",function(){i("wdw-calendar"),console.log("Nav - Calendar clicked")}),t("#linkAllEvents").on("click",function(){i("wdw-all-events"),console.log("Nav - all events click")}),t("#btnpostevent").on("click",function(){i("wdw-post-event"),console.log("Postclicke")}),p.indexOf(this),t(".fa-fa-trash").click(function(){console.log("Trashed clicked",p,p[u],p.length),p.splice(1,1)}),t(".fa-fa-trash").click(function(){t(this).parent().hide(),console.log("Trash delete clicked ")}),console.log("events",p)}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiaW5pdFBvcERhdGEiLCJqRXZlbnRzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZXZlbnRzIiwiZm9yRWFjaCIsImoiLCJhcHBlbmQiLCJpZCIsIm5hbWUiLCJ0b3BpYyIsInNwZWFrZXIiLCJkYXRlIiwiZGF5IiwibW9udGgiLCJ5ZWFyIiwidGltZV8yNGgiLCJob3VyIiwibWludXRlIiwiaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93Iiwic1dpbmRvd0lkIiwiaGlkZSIsInNob3ciLCJpc0xvZ2dlZEluIiwiZmFkZU91dCIsImZhZGVJbiIsImdldFBvc3QiLCJzSW1hZ2VVcmwiLCJ2YWwiLCJzcG9zdHRpdGVsIiwic1Bvc3REZXNjIiwic1Bvc3RMb2NhdGlvbiIsIlBvc3QiLCJwb3N0aW1hZ2V1cmwiLCJwb3N0dGl0ZWwiLCJwb3N0ZGVzYyIsInBvc3Rsb2MiLCJjb25zb2xlIiwibG9nIiwibG9naW5BZG1pbiIsInVzZXJDcmVkc0FkbWluIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJsaXN0UGFydG5lcnNGcm9tTFMiLCJmaW5hbFBhcnRuZXJzIiwicGFydG5lcnMiLCJodG1sIiwiaXRlbSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsInBhcnRuZXJwaWNfc3JjIiwiY29tcGFyZSIsImlucHV0VmFsIiwiZGF0YVZhbCIsImpPYmoiLCJ0b0xvd2VyQ2FzZSIsImJvb2wiLCJpbmNsdWRlcyIsImpSZXN1bHRzIiwiYWRkIiwiZ2V0SlNPTiIsImRvbmUiLCJqRGF0YSIsIm9uIiwic0lkIiwiRGF0ZSIsInZhbHVlT2YiLCJzTmFtZSIsImZpbmQiLCJzVG9waWNzIiwic0xldmVsIiwic1NwZWFrZXIiLCJzU3BlYWtlck9yZyIsImREYXRlIiwic1RpbWUiLCJzSW5mbyIsImFUaW1lIiwiYVRvcGljcyIsInNwbGl0IiwiaSIsImxlbmd0aCIsImNoYXJBdCIsInNsaWNlIiwiaW5kZXgiLCJpbmRleE9mIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwiakV2ZW50T2JqIiwibGV2ZWwiLCJzcGVha2VyX29yZ2FuaXphdGlvbiIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiaW5mbyIsInBhc3QiLCJsb2NhbFRlbXAiLCJwdXNoIiwic0RhdGFJZCIsInRoaXMiLCJwYXJlbnQiLCJkYXRhIiwiYXR0ciIsImFEYXRlIiwidGVtcCIsInRvU3RyaW5nIiwiemVybyIsInN0ciIsImNvbmNhdCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJzcGxpY2UiLCJyZW1vdmUiLCJwcmVwZW5kIiwiYUV2ZW50cyIsInNFdmVudHMiLCJzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSIsInNFdmVudElkIiwiZ2V0VGltZSIsInNwb3N0ZXZlbnQiLCJzTGluayIsImpFdmVudCIsImltYWdlVXJsIiwicG9zdGV2ZW50IiwiUG9zdERlc2MiLCJzRmluYWxFdmVudHMiLCJlYWNoIiwidGV4dCIsImNzcyIsInJlYWR5IiwiY3JlZGVudGlhbHMiLCJnZXRJdGVtIiwiY3JlZGVudGlhbHNNZW1iZXIiLCJ1c2VybmFtZUlucHV0IiwiaW5wdXRmbmFtZSIsImlucHV0bG5hbWUiLCJpbnB1dGVtYWlsIiwiaW5wdXRsb2NhdGlvbiIsImlucHV0dXNlcm5hbWUiLCJpbnB1dHBhc3MiLCJ1c2VyQ3JlZHMiLCJmbmFtZSIsImxuYW1lIiwiZW1haWwiLCJsb2NhdGlvbiIsIm9QYXJ0bmVycyIsImpzb25fZGF0YSIsImVsZW0iLCJvYmoiLCJzd2FsIiwidGl0bGUiLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvbkNvbG9yIiwiY29uZmlybUJ1dHRvblRleHQiLCJjbG9zZU9uQ29uZmlybSIsImlucHV0U2VhcmNoRmllbGQiLCJhSW5wdXQiLCJqVGVtcCIsImEiLCJvcmciLCJjbGljayIs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QVFDLElBQUksMkJBT2RELFFBQVFDLElBQUksU0FBVytFLElBRXRCK0MsT0FBUXhLLE9BQVFDIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5cclxuXHJcbihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcbiAgXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbi8vY2hlY2sgaWYgdXNlciBzdGF0ZSA9PSBhZG1pbiBvciB1c2VyXHJcbi8vaWYgZmFsc2UsIGRvIHRoaXMuLlxyXG4vL2lmIHRydWUgZG8gdGhhdC4uXHJcblxyXG5cclxuLy9JTklUIExPQ0FMIFNUT1JBR0UgLSBJRiBOTyBEQVRBIElTIFBSRVNFTlRcclxuICBpZiAobG9jYWxTdG9yYWdlLmV2ZW50cyA9PSBudWxsKSB7XHJcbiAgICAvL2ltcG9ydCBkYXRhIGZyb20gZGF0YS9ldmVudHMuanNvblxyXG4gICAgLy9pbnB1dCBpbnRvIGxvY2FsU3RvcmFnZS5ldmVudHNcclxuICAgIC8vanNvbiBmaWxlIHdpbGwgYWx3YXlzIGhhdmUgZGF0YSwgd2hpY2ggaXMgd2h5IHRoaXMgbWV0aG9kIHdpbGwgYWx3YXlzIHdvcmshXHJcbiAgICBjb25zb2xlLmxvZyhcImxvY2FsU3RvcmFnZS5ldmVudHMgaXMgZW1wdHlcIik7XHJcbiAgICAkLmdldEpTT04oXCJhc3NldHMvZGF0YS9ldmVudHMuanNvblwiKS5kb25lKCBmdW5jdGlvbihqRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhqRGF0YSk7XHJcbiAgICAgIC8vcHV0IHRoZSBqRGF0YSBvYmplY3RzIGludG8gbG9jYWxTdG9yYWdlXHJcbiAgICAgIGpEYXRhID0gSlNPTi5zdHJpbmdpZnkoakRhdGEpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UuZXZlbnRzID0gakRhdGE7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibG9jYWxTdG9yYWdlLmV2ZW50cyBzdWNjZXNzZnVsbHkgcG9wdWxhdGVkXCIpO1xyXG4gICAgICBpbml0UG9wRGF0YSgpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuZXZlbnRzKSB7XHJcbiAgICAvL2xvYWQgZXZlcnl0aGluZyBmcm9tIGxvY2Fsc3RvcmFnZSBhbmQgcG9wdWxhdGUgdGhlIGRpdiB3aXRoIGRhdGEuLlxyXG4gICAgY29uc29sZS5sb2coXCJsb2NhbFN0b3JhZ2UuZXZlbnRzIGhhcyBkYXRhXCIpO1xyXG4gICAgaW5pdFBvcERhdGEoKTtcclxuICB9XHJcblxyXG4vL0MgZnJvbSBDUlVEIC0gb25DbGljayAjc2F2ZS1idG4gLSBzYXZlIGRhdGEgZnJvbSBpbnRlcmZhY2UgdG8gbG9jYWxTdG9yYWdlXHJcbiAgJChcIiNjcmVhdGUtZXZlbnQtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNhdmUtYnRuIGNsaWNrZWRcIik7XHJcbiAgICAvL2dldCB2YWx1ZSBvZiBhbGwgaXRlbXMuLlxyXG4gICAgdmFyIHNJZCA9IG5ldyBEYXRlKCk7XHJcbiAgICBzSWQgPSBzSWQudmFsdWVPZigpO1xyXG4gICAgdmFyIHNOYW1lID0gJChcIiN3ZHctZXZlbnQtY3JlYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1uYW1lJ11cIikudmFsKCk7XHJcbiAgICB2YXIgc1RvcGljcyA9ICQoXCIjd2R3LWV2ZW50LWNyZWF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtdG9waWNzJ11cIikudmFsKCk7XHJcbiAgICB2YXIgc0xldmVsID0gJChcIiN3ZHctZXZlbnQtY3JlYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1sZXZlbCddXCIpLnZhbCgpO1xyXG4gICAgdmFyIHNTcGVha2VyID0gJChcIiN3ZHctZXZlbnQtY3JlYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyJ11cIikudmFsKCk7XHJcbiAgICB2YXIgc1NwZWFrZXJPcmcgPSAkKFwiI3dkdy1ldmVudC1jcmVhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXNwZWFrZXItb3JnJ11cIikudmFsKCk7XHJcbiAgICB2YXIgZERhdGUgPSBuZXcgRGF0ZSgkKFwiI3dkdy1ldmVudC1jcmVhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LWRhdGUnXVwiKS52YWwoKSk7XHJcbiAgICB2YXIgc1RpbWUgPSAkKFwiI3dkdy1ldmVudC1jcmVhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXRpbWUnXVwiKS52YWwoKTtcclxuICAgIHZhciBzSW5mbyA9ICQoXCIjd2R3LWV2ZW50LWNyZWF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtaW5mbyddXCIpLnZhbCgpOyAvL2luZm9cclxuICAgIGNvbnNvbGUubG9nKGFUaW1lKTtcclxuICAgIFxyXG4gICAgdmFyIGFUb3BpY3MgPSBbXTtcclxuICAgIC8vZ2V0IGVhY2ggdG9waWMgYW5kIHN0b3JlIGl0IGluIGFuIGFycmF5XHJcbiAgICB2YXIgYVRvcGljcyA9IHNUb3BpY3Muc3BsaXQoXCIsXCIpO1xyXG4gICAgY29uc29sZS5sb2coYVRvcGljcyk7XHJcbiAgICBcclxuICAgIGZvciAoaSA9IDA7IGkgPCBhVG9waWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChhVG9waWNzW2ldLmNoYXJBdCgwKSA9PSBcIiBcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmlyc3QgY2hhcjogXCIgKyBhVG9waWNzW2ldLmNoYXJBdCgwKSk7XHJcbiAgICAgICAgYVRvcGljc1tpXSA9IGFUb3BpY3NbaV0uc2xpY2UoMSwgYVRvcGljc1tpXS5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RyIG5vdyBlcXVhbHMgXCIgKyBhVG9waWNzW2ldKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGFUb3BpY3NbaV0uY2hhckF0KGFUb3BpY3NbaV0ubGVuZ3RoIC0gMSkgPT0gXCIgXCIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxhc3QgY2hhcjogXCIgKyBhVG9waWNzW2ldLmNoYXJBdCgwKSk7XHJcbiAgICAgICAgYVRvcGljc1tpXSA9IGFUb3BpY3NbaV0uc2xpY2UoMCwgYVRvcGljc1tpXS5sZW5ndGgtMSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdHIgbm93IGVxdWFscyBcIiArIGFUb3BpY3NbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGFUb3BpY3MpO1xyXG4gICAgXHJcbiAgICAvL3NldCB0aW1lLCBpZiBpbnB1dCBtYWtlIHNlbnNlXHJcbiAgICB2YXIgYVRpbWUgPSBzVGltZS5zcGxpdChcIjpcIiwgMik7IC8vc3BsaXQgc1RpbWUgaW50byBhcnJheSB3aXRoIHR3byB2YXJzXHJcbiAgICBhVGltZS5mb3JFYWNoKCBmdW5jdGlvbihpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYVRpbWUgRm9yZWFjaFwiKTtcclxuICAgICAgY29uc29sZS5sb2coaS5sZW5ndGgpO1xyXG4gICAgICBpZiAoaS5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coaSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIHRpbWVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2UgaWYgKGkubGVuZ3RoIDw9IDIpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSBhVGltZS5pbmRleE9mKGkpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhpKTtcclxuICAgICAgICAgIGREYXRlLnNldEhvdXJzKGkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coaSk7XHJcbiAgICAgICAgICBkRGF0ZS5zZXRNaW51dGVzKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhkRGF0ZSk7XHJcbiAgICBcclxuICAgIC8vY3JlYXRlIG9iamVjdCB0byBwdXNoIGludG8gSlNPTi4uXHJcbiAgICB2YXIgakV2ZW50T2JqID0ge1xyXG4gICAgICBpZDogc0lkLFxyXG4gICAgICBuYW1lOiBzTmFtZSxcclxuICAgICAgdG9waWM6IGFUb3BpY3MsXHJcbiAgICAgIGxldmVsOiBzTGV2ZWwsXHJcbiAgICAgIHNwZWFrZXI6IHNTcGVha2VyLFxyXG4gICAgICBzcGVha2VyX29yZ2FuaXphdGlvbjogc1NwZWFrZXJPcmcsXHJcbiAgICAgIGRhdGU6IHsgZGF5OiBkRGF0ZS5nZXREYXRlKCksIG1vbnRoOiBkRGF0ZS5nZXRNb250aCgpICwgeWVhcjogZERhdGUuZ2V0RnVsbFllYXIoKSB9LFxyXG4gICAgICB0aW1lXzI0aDogeyBob3VyOiBkRGF0ZS5nZXRIb3VycygpICwgbWludXRlOiBkRGF0ZS5nZXRNaW51dGVzKCkgfSxcclxuICAgICAgaW5mbzogc0luZm8sXHJcbiAgICAgIHBhc3Q6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgY29uc29sZS5sb2coakV2ZW50T2JqKTtcclxuICAgIFxyXG4gICAgLy9wdXNoIGpFdmVudE9iaiB0byBsb2NhbFN0b3JhZ2VcclxuICAgIHZhciBsb2NhbFRlbXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xyXG4gICAgbG9jYWxUZW1wLnB1c2goakV2ZW50T2JqKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCBcImV2ZW50c1wiICwgSlNPTi5zdHJpbmdpZnkobG9jYWxUZW1wKSApO1xyXG4gICAgXHJcbiAgICAvL2FwcGVuZCBuZXdseSBhZGRlZCBkYXRhIHRvIERPTS4uXHJcbiAgICAkKFwiI2V2ZW50LWxpc3RpbmdcIikuYXBwZW5kKCc8dHIgZGF0YS1ldmVudC1pZD1cIicgKyBqRXZlbnRPYmouaWQgKyAnXCI+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmoubmFtZSArICc8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgakV2ZW50T2JqLnRvcGljICsgJzwvdGQ+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmouc3BlYWtlciArICc8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgakV2ZW50T2JqLmRhdGUuZGF5ICsgJyAnICsgakV2ZW50T2JqLmRhdGUubW9udGggKyAnICcgKyBqRXZlbnRPYmouZGF0ZS55ZWFyICsgJzwvdGQ+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmoudGltZV8yNGguaG91ciArICc6JyArIGpFdmVudE9iai50aW1lXzI0aC5taW51dGUgKyAnPC90ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGlkPVwiZWRpdC1ldmVudC1pY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGlkPVwiZGVsZXRlLWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PC90ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0PC90cj5cXFxyXG5cdCcpO1xyXG4gIH0pO1xyXG5cclxuLy9VIGZyb20gQ1JVRCAtIG9uQ2xpY2sgLmZhLWVkaXQgLSBvcGVuIGVkaXRpbmcgaW50ZXJmYWNlXHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNlZGl0LWV2ZW50LWljb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIi5mYS1wZW5jaWwgaWNvbiBjbGlja2VkXCIpO1xyXG4gICAgLy9nZXQgdHIgaWQgb2YgLmZhLXBlbmNpbCBwYXJlbnRcclxuICAgIHZhciBzRGF0YUlkID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5kYXRhKFwiZXZlbnQtaWRcIik7XHJcbiAgICAvL2dpdmUgaWQgYSB2YWx1ZVxyXG4gICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmF0dHIoXCJkYXRhLWV2ZW50LWlkXCIsIHNEYXRhSWQpO1xyXG4gICAgLy9hY2Nlc3MgbG9jYWxTdG9yYWdlLmV2ZW50XHJcbiAgICB2YXIgbG9jYWxUZW1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZXZlbnRzKTtcclxuICAgIC8vZmluZCB0aGUgbG9jYWxUZW1wLmlkID09IHNEYXRhSWRcclxuICAgIGxvY2FsVGVtcC5mb3JFYWNoKCBmdW5jdGlvbihqKSB7XHJcbiAgICAgIC8vZmluZCBieSB1bmlxdWUgaWRcclxuICAgICAgaWYgKGouaWQgPT0gc0RhdGFJZCkge1xyXG4gICAgICAgIC8vc2V0ICN3ZHctZXZlbnQtdXBkYXRlIGF0dHIgdG8gZXF1YWwgc0RhdGFJZFxyXG4gICAgICAgIC8vQkVHSU4gc3RydWdnbGUgd2l0aCBzYXRhbidzIGZhcnQgc3RlbmNoXHJcbiAgICAgICAgdmFyIGREYXRlID0gai5kYXRlLnllYXIgKyBcIi1cIiArIGouZGF0ZS5tb250aCArIFwiLVwiICsgai5kYXRlLmRheTtcclxuICAgICAgICB2YXIgYURhdGUgPSBkRGF0ZS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgLy9kYXRlIHByb3BlcnR5IHZhcmlhYmxlc1xyXG4gICAgICAgIHZhciBzTW9udGggPSBcIlwiO1xyXG4gICAgICAgIHZhciBzRGF5ID0gXCJcIjtcclxuICAgICAgICBpZiAoYURhdGVbMV0ubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgIHZhciB0ZW1wID0gYURhdGVbMV0udG9TdHJpbmcoKTtcclxuICAgICAgICAgIHZhciB6ZXJvID0gXCIwXCJcclxuICAgICAgICAgIHZhciBzdHIgPSB6ZXJvLmNvbmNhdCh0ZW1wKTtcclxuICAgICAgICAgIGFEYXRlWzFdID0gc3RyO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYURhdGVbMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYURhdGVbMl0ubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgIHZhciB0ZW1wID0gYURhdGVbMl0udG9TdHJpbmcoKTtcclxuICAgICAgICAgIHZhciB6ZXJvID0gXCIwXCJcclxuICAgICAgICAgIHZhciBzdHIgPSB6ZXJvLmNvbmNhdCh0ZW1wKTtcclxuICAgICAgICAgIGFEYXRlWzJdID0gc3RyO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYURhdGVbMl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZERhdGUgPSBqLmRhdGUueWVhciArIFwiLVwiICsgYURhdGVbMV0gKyBcIi1cIiArIGFEYXRlWzJdO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGREYXRlKTtcclxuICAgICAgICAvL0VORCBzdHJ1Z2dsZSB3aXRoIHNhdGFuJ3MgZmFydCBzdGVuY2guIEdvZCBpcyBnb29kLlxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vaW1wb3J0IGFsbCBpbnB1dCB2YWx1ZXMgZnJvbSBsb2NhbFRlbXAgb2JqZWN0IHRvIERPTVxyXG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtbmFtZSddXCIpLnZhbChqLm5hbWUpO1xyXG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtdG9waWNzJ11cIikudmFsKGoudG9waWMpO1xyXG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtbGV2ZWwnXVwiKS52YWwoai5sZXZlbCk7XHJcbiAgICAgICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyJ11cIikudmFsKGouc3BlYWtlcik7XHJcbiAgICAgICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyLW9yZyddXCIpLnZhbChqLnNwZWFrZXJfb3JnYW5pemF0aW9uKTtcclxuICAgICAgICAvL1NFRSBORVhUIExJTkUgRk9SIFdPUktJTkcgVkVSU0lPTiAtIE5BVElWRSBKUyAkKFwiI3dkdy1ldmVudC1lZGl0XCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1kYXRlJ11cIikudmFsKGREYXRlKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXQtZXZlbnQtZGF0ZVwiKS52YWx1ZSA9IGREYXRlO1xyXG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtdGltZSddXCIpLnZhbChqLnRpbWVfMjRoLmhvdXIgKyBcIjpcIiArIGoudGltZV8yNGgubWludXRlKTtcclxuICAgICAgICAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LWluZm8nXVwiKS52YWwoai5pbmZvKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4vL1UgZnJvbSBDUlVEIC0gb25DbGljayAjdXBkYXRlLWV2ZW50LWJ0biAtIHNhdmUgZGF0YSBmcm9tIGVkaXRpbmcgaW50ZXJmYWNlXHJcbiAgJChcIiN1cGRhdGUtZXZlbnQtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIiN1cGRhdGUtZXZlbnQgY2xpY2tlZFwiKTtcclxuICAgIC8vZ2V0IHZhbHVlIG9mIGFsbCBpdGVtcy4uXHJcbiAgICB2YXIgc0lkID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmF0dHIoXCJkYXRhLWV2ZW50LWlkXCIpOyAvL2dldCBmcm9tIERPTVxyXG4gICAgdmFyIHNOYW1lID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1uYW1lJ11cIikudmFsKCk7XHJcbiAgICB2YXIgc1RvcGljcyA9ICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtdG9waWNzJ11cIikudmFsKCk7XHJcbiAgICB2YXIgc0xldmVsID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1sZXZlbCddXCIpLnZhbCgpO1xyXG4gICAgdmFyIHNTcGVha2VyID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyJ11cIikudmFsKCk7XHJcbiAgICB2YXIgc1NwZWFrZXJPcmcgPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXNwZWFrZXItb3JnJ11cIikudmFsKCk7XHJcbiAgICB2YXIgZERhdGUgPSBuZXcgRGF0ZSgkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LWRhdGUnXVwiKS52YWwoKSk7XHJcbiAgICB2YXIgc1RpbWUgPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXRpbWUnXVwiKS52YWwoKTtcclxuICAgIHZhciBzSW5mbyA9ICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtaW5mbyddXCIpLnZhbCgpOyAvL2luZm9cclxuICAgIGNvbnNvbGUubG9nKGFUaW1lKTtcclxuICAgIFxyXG4gICAgdmFyIGFUb3BpY3MgPSBbXTtcclxuICAgIC8vZ2V0IGVhY2ggdG9waWMgYW5kIHN0b3JlIGl0IGluIGFuIGFycmF5XHJcbiAgICB2YXIgYVRvcGljcyA9IHNUb3BpY3Muc3BsaXQoXCIsXCIpO1xyXG4gICAgY29uc29sZS5sb2coYVRvcGljcyk7XHJcbiAgICBcclxuICAgIGZvciAoaSA9IDA7IGkgPCBhVG9waWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChhVG9waWNzW2ldLmNoYXJBdCgwKSA9PSBcIiBcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmlyc3QgY2hhcjogXCIgKyBhVG9waWNzW2ldLmNoYXJBdCgwKSk7XHJcbiAgICAgICAgYVRvcGljc1tpXSA9IGFUb3BpY3NbaV0uc2xpY2UoMSwgYVRvcGljc1tpXS5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RyIG5vdyBlcXVhbHMgXCIgKyBhVG9waWNzW2ldKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGFUb3BpY3NbaV0uY2hhckF0KGFUb3BpY3NbaV0ubGVuZ3RoIC0gMSkgPT0gXCIgXCIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxhc3QgY2hhcjogXCIgKyBhVG9waWNzW2ldLmNoYXJBdCgwKSk7XHJcbiAgICAgICAgYVRvcGljc1tpXSA9IGFUb3BpY3NbaV0uc2xpY2UoMCwgYVRvcGljc1tpXS5sZW5ndGgtMSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdHIgbm93IGVxdWFscyBcIiArIGFUb3BpY3NbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhhVG9waWNzKTtcclxuICAgIFxyXG4gICAgLy9zZXQgdGltZSwgaWYgaW5wdXQgbWFrZSBzZW5zZVxyXG4gICAgdmFyIGFUaW1lID0gc1RpbWUuc3BsaXQoXCI6XCIsIDIpOyAvL3NwbGl0IHNUaW1lIGludG8gYXJyYXkgd2l0aCB0d28gdmFyc1xyXG4gICAgYVRpbWUuZm9yRWFjaCggZnVuY3Rpb24oaSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImFUaW1lIEZvcmVhY2hcIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKGkubGVuZ3RoKTtcclxuICAgICAgaWYgKGkubGVuZ3RoID4gMikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCB0aW1lXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIGlmIChpLmxlbmd0aCA8PSAyKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gYVRpbWUuaW5kZXhPZihpKTtcclxuICAgICAgICBpZiAoaW5kZXggPT0gMCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coaSk7XHJcbiAgICAgICAgICBkRGF0ZS5zZXRIb3VycyhpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09IDEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGkpO1xyXG4gICAgICAgICAgZERhdGUuc2V0TWludXRlcyhpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coZERhdGUpO1xyXG4gICAgXHJcbiAgICAvL2NyZWF0ZSBvYmplY3QgdG8gcHVzaCBpbnRvIEpTT04uLlxyXG4gICAgdmFyIGpFdmVudE9iaiA9IHtcclxuICAgICAgaWQ6IHNJZCxcclxuICAgICAgbmFtZTogc05hbWUsXHJcbiAgICAgIHRvcGljOiBhVG9waWNzLFxyXG4gICAgICBsZXZlbDogc0xldmVsLFxyXG4gICAgICBzcGVha2VyOiBzU3BlYWtlcixcclxuICAgICAgc3BlYWtlcl9vcmdhbml6YXRpb246IHNTcGVha2VyT3JnLFxyXG4gICAgICBkYXRlOiB7IGRheTogZERhdGUuZ2V0RGF0ZSgpLCBtb250aDogZERhdGUuZ2V0TW9udGgoKSAsIHllYXI6IGREYXRlLmdldEZ1bGxZZWFyKCkgfSxcclxuICAgICAgdGltZV8yNGg6IHsgaG91cjogZERhdGUuZ2V0SG91cnMoKSAsIG1pbnV0ZTogZERhdGUuZ2V0TWludXRlcygpIH0sXHJcbiAgICAgIGluZm86IHNJbmZvLFxyXG4gICAgICBwYXN0OiBmYWxzZVxyXG4gICAgfTtcclxuICAgIGNvbnNvbGUubG9nKGpFdmVudE9iaik7XHJcbiAgICBcclxuICAgIC8vcHVzaCBqRXZlbnRPYmogdG8gbG9jYWxTdG9yYWdlXHJcbiAgICB2YXIgbG9jYWxUZW1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZXZlbnRzKTtcclxuICAgIC8vZmluZCB0aGUgb2JqZWN0IGluIEpTT05cclxuICAgIGxvY2FsVGVtcC5mb3JFYWNoKGZ1bmN0aW9uKGopIHtcclxuICAgICAgLy9maW5kIG9iamVjdCB3aXRoIG1hdGNoaW5nIGlkXHJcbiAgICAgIGlmIChqLmlkID09IGpFdmVudE9iai5pZCkge1xyXG4gICAgICAgIC8vcmVtb3ZlIG9iamVjdCB3aXRoIG1hdGNoaW5nIGlkXHJcbiAgICAgICAgbG9jYWxUZW1wLnNwbGljZSggbG9jYWxUZW1wLmluZGV4T2YoaiksIDEgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvL3B1c2ggakV2ZW50T2JqIHRvIGxvY2FsVGVtcFxyXG4gICAgbG9jYWxUZW1wLnB1c2goakV2ZW50T2JqKTtcclxuICAgIC8vcmV3cml0ZSBsb2NhbFN0b3JhZ2VcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCBcImV2ZW50c1wiICwgSlNPTi5zdHJpbmdpZnkobG9jYWxUZW1wKSApO1xyXG4gICAgLy9yZW1vdmUgZGF0YSBhdHRyIGZyb20gd2luZG93XHJcbiAgICAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuYXR0cihcImRhdGEtZXZlbnQtaWRcIiwgXCJcIik7XHJcbiAgICAvL2RlbGV0ZSBvbGQgRE9NIHJlcHJlc2VudGF0aW9uXHJcbiAgICAkKGRvY3VtZW50KS5maW5kKCdbZGF0YS1ldmVudC1pZD0nK2pFdmVudE9iai5pZCsnXScpLnJlbW92ZSgpO1xyXG4gICAgLy9hcHBlbmQgbmV3IERPTSByZXByZXNlbnRhdGlvblxyXG4gICAgJChcIiNldmVudC1saXN0aW5nIHRib2R5XCIpLnByZXBlbmQoJzx0ciBkYXRhLWV2ZW50LWlkPVwiJyArIGpFdmVudE9iai5pZCArICdcIj5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGpFdmVudE9iai5uYW1lICsgJzwvdGQ+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmoudG9waWMgKyAnPC90ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGpFdmVudE9iai5zcGVha2VyICsgJzwvdGQ+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmouZGF0ZS5kYXkgKyAnICcgKyBqRXZlbnRPYmouZGF0ZS5tb250aCArICcgJyArIGpFdmVudE9iai5kYXRlLnllYXIgKyAnPC90ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGpFdmVudE9iai50aW1lXzI0aC5ob3VyICsgJzonICsgakV2ZW50T2JqLnRpbWVfMjRoLm1pbnV0ZSArICc8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgaWQ9XCJlZGl0LWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgaWQ9XCJkZWxldGUtZXZlbnQtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxcXHJcblx0Jyk7XHJcbiAgfSk7XHJcblxyXG4vL1UgZnJvbSBDUlVEIC0gb25DbGljayAjY2FuY2VsLXVwZGF0ZS1ldmVudC1idG4gLSBjYW5jZWxcclxuICAkKFwiI2NhbmNlbC11cGRhdGUtZXZlbnQtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAvL3NldCAjd2R3LWV2ZW50LXVwZGF0ZSdzIGRhdGEtZXZlbnQtaWQgPT0gXCJcIjtcclxuICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5hdHRyKFwiZGF0YS1ldmVudC1pZFwiLCBcIlwiKTtcclxuICB9KTtcclxuXHJcbi8vRCBmcm9tIENSVUQgLSBvbkNsaWNrIC5mYS10cmFzaCAtIGRlbGV0ZSBmcm9tIGludGVyZmFjZSBhbmQgbG9jYWxzdG9yYWdlXHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIiNkZWxldGUtZXZlbnQtaWNvblwiLCBmdW5jdGlvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiLmZhLXRyYXNoIGljb24gY2xpY2tlZFwiKTtcclxuICAgIC8vZ2V0IHRyIGlkIG9mIC5mYS10cmFzaCBwYXJlbnRcclxuICAgIHZhciBzRGF0YUlkID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5kYXRhKFwiZXZlbnQtaWRcIik7XHJcbiAgICAvL2FjY2VzcyBsb2NhbFN0b3JhZ2UuZXZlbnRcclxuICAgIHZhciBsb2NhbFRlbXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xyXG4gICAgLy9maW5kIHRoZSBsb2NhbFRlbXAuaWQgPT0gc0RhdGFJZFxyXG4gICAgbG9jYWxUZW1wLmZvckVhY2goIGZ1bmN0aW9uKGopIHtcclxuICAgICAgaWYgKGouaWQgPT0gc0RhdGFJZCkge1xyXG4gICAgICAgIC8vcmVtb3ZlIGl0ZW0gZnJvbSBsb2NhbFRlbXBcclxuICAgICAgICBcclxuICAgICAgICBsb2NhbFRlbXAuc3BsaWNlKCBsb2NhbFRlbXAuaW5kZXhPZihqKSwgMSApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSUQgXCIgKyBqLmlkICsgXCJzcGxpY2VkIGZyb20gbG9jYWxUZW1wXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKGxvY2FsVGVtcCk7XHJcbiAgICBsb2NhbFN0b3JhZ2UuZXZlbnRzID0gSlNPTi5zdHJpbmdpZnkobG9jYWxUZW1wKTtcclxuICAgIC8vZGVsZXRlIHRyIGJ5IGlkXHJcbiAgICAkKGRvY3VtZW50KS5maW5kKCdbZGF0YS1ldmVudC1pZD0nK3NEYXRhSWQrJ10nKS5yZW1vdmUoKTtcclxuICB9KTtcclxuXHJcbi8vZnVuY3Rpb25zXHJcbi8vcG9wdWxhdGUgZGF0YSBvbiBwYWdlbG9hZFxyXG4gIGZ1bmN0aW9uIGluaXRQb3BEYXRhKCkge1xyXG4gICAgLy9zaW5jZSBsb2NhbHN0b3JhZ2Ugd2lsbCBhbHdheXMgaGF2ZSB2YWx1ZXMsXHJcbiAgICAvL2FwcGVuZCBhbGwgb2YgbG9jYWxzdG9yYWdlJ3MgY29udGVudCB0byB0aGUgY29ycmVzcG9uZGluZyB0YWJsZVxyXG4gICAgdmFyIGpFdmVudHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xyXG4gICAgakV2ZW50cy5mb3JFYWNoKCBmdW5jdGlvbihqKSB7XHJcbiAgICAgICQoXCIjZXZlbnQtbGlzdGluZyB0Ym9keVwiKS5hcHBlbmQoJzx0ciBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGoubmFtZSArICc8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLnRvcGljICsgJzwvdGQ+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGouc3BlYWtlciArICc8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLmRhdGUuZGF5ICsgJyAnICsgai5kYXRlLm1vbnRoICsgJyAnICsgai5kYXRlLnllYXIgKyAnPC90ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai50aW1lXzI0aC5ob3VyICsgJzonICsgai50aW1lXzI0aC5taW51dGUgKyAnPC90ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1wZW5jaWxcIiBpZD1cImVkaXQtZXZlbnQtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cXFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGlkPVwiZGVsZXRlLWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxcXHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XFxcclxuXHRcdFx0Jyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgLy9IaWRlL1Nob3cgLSBXZHdcclxuICBmdW5jdGlvbiBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coc1dpbmRvd0lkKSB7XHJcbiAgICAkKCcud2R3JykuaGlkZSgpOyAvL2ZhZGVvdXQgNTAwXHJcbiAgICAkKCcjJyArIHNXaW5kb3dJZCkuc2hvdygpOyAvLyBmYWRlIGluIDUwMFxyXG4gIH1cclxuICBcclxuICBcclxuICBcclxuICAvL1N0b3JpbmcgZXZlbnRzXHJcbiAgdmFyIGFFdmVudHMgPSBbXTtcclxuICBcclxuICBcclxuICBpZiAobG9jYWxTdG9yYWdlLnNFdmVudHMpIHtcclxuICAgIC8vIHJlYWQgdGhlIHRleHQgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxyXG4gICAgLy8gY29udmVydCB0aGF0IHRleHQgaW50byBhbiBvYmplY3RcclxuICAgIHZhciBzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5zRXZlbnRzO1xyXG4gICAgYUV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50c0Zyb21Mb2NhbFN0b3JhZ2UpO1xyXG4gIH1cclxuICBcclxuICBcclxuICBcclxuICAkKGZ1bmN0aW9uICgpIHsgLy9QZXJmb3JtYW5jZSBpbiBoZXJlIC0tPiBsb2FkIGFzeW5jIGZpcnN0IHByaW9yaXR5XHJcbiAgICAvLyBGYXN0U2hlbGxcclxuICB9KTtcclxuICBcclxuICBcclxuICBcclxuICBcclxuICAvL0FkZHMgZXZlbnRzIHRvIHNlYXJjaCAgc2NoZWR1bGUgY2FsZW5kYXJcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFFdmVudHMubGVuZ3RoOyBpKyspIHsgIC8vdGVtcGxhdGluZ1xyXG4gICAgLy9hcHBlbmRcclxuICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXHJcbiAgICAgICc8dHI+JyArXHJcbiAgICAgICc8dGggc2NvcGU9XCJyb3dcIj4nKyc8aDQ+JythRXZlbnRzW2ldLmlkKyc8L2g0PicrJzwvdGg+JytcclxuICAgICAgJzx0ZD4nKyc8aDQ+JythRXZlbnRzW2ldLm5hbWUrJzwvaDQ+JysnPC90ZD4nK1xyXG4gICAgICAvLyc8dGQgY2xhc3M9XCJldmVudFByaWNlXCI+JytldmVudFByaWNlQ2hhbmdlKyc8L3RkPicrXHJcbiAgICAgICc8dGQ+PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L3RkPicrXHJcbiAgICAgICc8L3RyPicpO1xyXG4gIH1cclxuICBcclxuICBcclxuICAvL0FkZCBuZXcgRXZlbnRcclxuICAkKCcjcG9zdGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcbiAgICB2YXIgc0V2ZW50SWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIHZhciBzSW1hZ2VVcmwgPSAkKCcjaW5wdXRwb3N0aW1nJykudmFsKCk7XHJcbiAgICB2YXIgc3Bvc3RldmVudCA9ICQoJyNpbnB1dHBvc3RldmVudCcpLnZhbCgpO1xyXG4gICAgdmFyIHNQb3N0RGVzYyA9ICQoJyNpbnB1dHBvc3RkZXNjJykudmFsKCk7XHJcbiAgICB2YXIgc1Bvc3RMb2NhdGlvbiA9ICQoJyNpbnB1dHBvc3Rsb2NhdGlvbicpLnZhbCgpO1xyXG4gICAgdmFyIHNMaW5rID0gXCJsaW5rXCI7XHJcbiAgICBcclxuICAgIC8vY29uc29sZS5sb2coc0ltYWdlVXJsICsgc3Bvc3R0aXRlbCArIHNQb3N0RGVzYyArIHNQb3N0TG9jYXRpb24pO1xyXG4gICAgLy9CZWZvcmUgLmNhbGVuZGFyLWJhY2tcclxuICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXHJcbiAgICAgICc8dHI+JyArXHJcbiAgICAgICc8dGQ+JytzcG9zdGV2ZW50Kyc8L3RkPicrXHJcbiAgICAgICc8dGQ+JytzUG9zdExvY2F0aW9uKyc8L3RkPicrXHJcbiAgICAgICc8dGQ+JytzRXZlbnRJZCsnPC90ZD4nK1xyXG4gICAgICAnPHRkPicrc0xpbmsrJzwvdGQ+JytcclxuICAgICAgJzx0ZD48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvdGQ+JytcclxuICAgICAgJzwvdHI+Jyk7XHJcbiAgICBcclxuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWNhbGVuZGFyJyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgdmFyIGpFdmVudCA9IHt9O1xyXG4gICAgakV2ZW50LmlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICBqRXZlbnQuaW1hZ2VVcmwgPSBzSW1hZ2VVcmw7XHJcbiAgICBqRXZlbnQucG9zdGV2ZW50ID0gc3Bvc3RldmVudDtcclxuICAgIGpFdmVudC5Qb3N0RGVzYyA9IHNQb3N0RGVzYztcclxuICAgIGpFdmVudC5zUG9zdExvY2F0aW9uID0gc1Bvc3RMb2NhdGlvbjtcclxuICAgIGFFdmVudHMucHVzaChqRXZlbnQpO1xyXG4gICAgLy9jb25zb2xlLmxvZyhhRXZlbnRzKTtcclxuICAgIC8vU2F2ZSB0byBMb2NhbCBzdG9yYWdlXHJcbiAgICB2YXIgc0ZpbmFsRXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoYUV2ZW50cyk7XHJcbiAgICAvL3VwZGF0ZSB0aGUgc0V2ZW50cyB0byBsb2NhbCB0ZXh0XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc0V2ZW50cyA9IHNGaW5hbEV2ZW50cztcclxuICAgIFxyXG4gICAgXHJcbiAgICAvL1JlYWQgZnJvbSBsb2NhbHN0b3JhZ2UgYW5kIHVwZGF0ZSBvbiBsb2FkIHRoZSBzZWFyY2ggY2FsZW5kYXIgd2l0aG8gYmJqZWN0c1xyXG4gIH0pO1xyXG4gIFxyXG4gIFxyXG4gICQoJyNsYmxFdmVudHMgZGl2JykuZWFjaChmdW5jdGlvbiggaW5kZXggKSB7XHJcbiAgICBjb25zb2xlLmxvZyggaW5kZXggKyAnOiAnICsgJCh0aGlzKS50ZXh0KCkpO1xyXG4gICAgJCh0aGlzKS5jc3M7XHJcbiAgfSk7XHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8vRnVuY3Rpb25zXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuXHJcbi8vb24gbG9hZFxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctaG9tZScpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIFxyXG4gIGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7XHJcbiAgICAvL2lmKGxvY2FsU3RvcmFnZS51c2VyQ3JlZHMpe1xyXG4gICAgJCgnI2xpbmtSZWdpc3RlcicpLmZhZGVPdXQoNTAwKTtcclxuICAgICQoJyNsaW5rTG9naW4nKS5mYWRlT3V0KDUwMCk7XHJcbiAgICAkKCcjbGlua0xvZ291dCcpLmZhZGVJbig1MDApO1xyXG4gICAgLy99XHJcbiAgfVxyXG5cclxuLy9mdW5jIGxvZ291dFxyXG5cclxuXHJcbi8qXHJcbi8vRGVmaW5lIGFycmF5IG9mIGV2ZW50cyB0byBsb29wIHRocm91Z2ggLT4gYXBwZW5kIHRvIHRoZSB0YWJsZVxyXG4gIGZ1bmN0aW9uIHNlYXJjaEV2ZW50cygpIHtcclxuICAgIC8vIERlY2xhcmUgdmFyaWFibGVzXHJcbiAgICB2YXIgaW5wdXQsIGZpbHRlciwgdGFibGUsIHRyLCB0ZCwgaTtcclxuICAgIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvcGljLXNlYXJjaCcpO1xyXG4gICAgZmlsdGVyID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215VGFibGUnKTtcclxuICAgIHRyID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RyJyk7XHJcbiAgICBcclxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGFibGUgcm93cywgYW5kIGhpZGUgdGhvc2Ugd2hvIGRvbid0IG1hdGNoIHRoZSBzZWFyY2ggcXVlcnlcclxuICAgIGZvciAoaSA9IDA7IGkgPCB0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBcclxuICAgICAgdGQgPSB0cltpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKVswXTtcclxuICAgICAgaWYgKHRkKSB7XHJcbiAgICAgICAgaWYgKHRkLmlubmVySFRNTC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7XHJcbiAgICAgICAgICB0cltpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRyW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbi8vU2VhcmNoIFRocm91Z2ggVGFibGUgLT5cclxuICAkKCcjbXlJbnB1dCcpLmtleXVwKGZ1bmN0aW9uKCkge1xyXG4gICAgc2VhcmNoRXZlbnRzKCk7XHJcbiAgfSk7XHJcbiAgKi9cclxuICBcclxuICAvKlxyXG4gICBmdW5jdGlvbiBjcmVhdGVQb3N0KCkgeyAvL1Rha2VzIG9iamVjdCAgUG9zdFxyXG4gICAvKlxyXG4gICAkKCcjd2R3LWFsbC1ldmVudHMnKS5lbXB0eSgpO1xyXG4gICB2YXIgc1Bvc3RUZW1wbGF0ZSA9XHJcbiAgICc8ZGl2IGNsYXNzPVwiZ3JpZF9qb2JcIj48ZmlndXJlIGNsYXNzPVwiZWZmZWN0LW1pbG9cIiBpZD1cImZpZ3VyZTFcIj5cXFxyXG4gICA8aW1nIGNsYXNzPVwiZmVhdHVyZWQtY29tcGFueV9faW1hZ2VcIiBzcmM9XCIke1Bvc3QuaW1nfVwiIGFsdD1cIlwiPjxmaWdjYXB0aW9uPlxcXHJcbiAgIDxoMj4ke1Bvc3QudGl0bGV9IDxzcGFuPiAke1Bvc3QubG9jYXRpb259IDwvc3Bhbj5cXFxyXG4gICA8L2gyPjxwPiR7ZGVzY308L3A+PGEgaHJlZj1cIiNcIj5WaWV3IG1vcmU8L2E+PC9maWdjYXB0aW9uPjwvZmlndXJlPjwvZGl2PlxcXHJcbiAgICc7XHJcbiAgIFxyXG4gICAkKCcjd2QtYWxsLWV2ZW50cycpLmFwcGVuZChzUG9zdFRlbXBsYXRlKTtcclxuICAgXHJcbiAgIFxyXG4gICB9XHJcbiAgICovXHJcbiAgXHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0UG9zdCgpIHtcclxuICAgIHZhciBzSW1hZ2VVcmwgPSAkKCcjaW5wdXRwb3N0aW1nJykudmFsKCk7XHJcbiAgICB2YXIgc3Bvc3R0aXRlbCA9ICQoJyNpbnB1dHBvc3R0aXRlbCcpLnZhbCgpO1xyXG4gICAgdmFyIHNQb3N0RGVzYyA9ICQoJyNpbnB1dHBvc3RkZXNjJykudmFsKCk7XHJcbiAgICB2YXIgc1Bvc3RMb2NhdGlvbiA9ICQoJyNpbnB1dHBvc3Rsb2NhdGlvbicpLnZhbCgpO1xyXG4gICAgXHJcbiAgICAvL2NvbnNvbGUubG9nKHNJbWFnZVVybCArIHNwb3N0dGl0ZWwgKyBzUG9zdERlc2MgKyBzUG9zdExvY2F0aW9uKTtcclxuICAgIFxyXG4gICAgdmFyIFBvc3QgPSB7XHJcbiAgICAgICdwb3N0aW1hZ2V1cmwnOnNJbWFnZVVybCxcclxuICAgICAgJ3Bvc3R0aXRlbCc6IHNwb3N0dGl0ZWwsXHJcbiAgICAgICdwb3N0ZGVzYyc6IHNQb3N0RGVzYyxcclxuICAgICAgJ3Bvc3Rsb2MnOiBzUG9zdExvY2F0aW9uXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvL0RpdiBhcHBlbmRcclxuICAgIGNvbnNvbGUubG9nKFBvc3QpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vQ29udmVydHMgdG8gb2JqZWN0c1xyXG4gIH1cclxuICBcclxuICBcclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIGxvZ2luQWRtaW4oKTtcclxuICB9KTtcclxuICBcclxuICBmdW5jdGlvbiBsb2dpbkFkbWluKCkge1xyXG4gICAgdmFyIHVzZXJDcmVkc0FkbWluID0ge1xyXG4gICAgICAndXNlcm5hbWUnOiAndXNlcm5hbWUnLFxyXG4gICAgICAncGFzc3dvcmQnOiAncGFzc3dvcmQnXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHMnLCBKU09OLnN0cmluZ2lmeSh1c2VyQ3JlZHNBZG1pbikpO1xyXG4gIH1cclxuICBcclxuICBcclxuICBcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAvL0xvZ2luIG9uIHBhZ2VcclxuICAvL0F1dGhlbnRpY2F0aW9uIGlzIG1pc3NpbmcgLSBhZG1pbiAtIG1lbWJlclxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICQoJyNsb2dpbmJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHMnKSk7XHJcbiAgICB2YXIgY3JlZGVudGlhbHNNZW1iZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFsc01lbWJlcicpKTtcclxuICAgIFxyXG4gICAgdmFyIHVzZXJuYW1lSW5wdXQgPSAkKCcjaW5wdXR1c2VybmFtZScpLnZhbCgpO1xyXG4gICAgdmFyIHBhc3N3b3JkICA9ICQoJyNpbnB1dHBhc3N3b3JkJykudmFsKCk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHVzZXJuYW1lSW5wdXQgKyBwYXNzd29yZCk7XHJcbiAgICBcclxuICAgIGlmKGNyZWRlbnRpYWxzLnVzZXJuYW1lID09PSB1c2VybmFtZUlucHV0ICYmIGNyZWRlbnRpYWxzLnBhc3N3b3JkID09PSBwYXNzd29yZCB8fCBjcmVkZW50aWFsc01lbWJlci51c2VybmFtZSA9PT0gdXNlcm5hbWVJbnB1dCAmJiBjcmVkZW50aWFsc01lbWJlci5wYXNzd29yZCA9PT0gcGFzc3dvcmQgKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXZWxjb21lIE1yLiAgICcgKyBjcmVkZW50aWFscy51c2VybmFtZSk7XHJcbiAgICAgIC8vIGxvY2FsU3RvcmFnZS5sb2dnZWRJblVzZXIgPSBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFscyk7XHJcbiAgICAgIGlzTG9nZ2VkSW4oKTtcclxuICAgICAgJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIEFkbWluICcgKyAnIyAnICsgY3JlZGVudGlhbHMudXNlcm5hbWUpO1xyXG4gICAgICBcclxuICAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctcmVnaXN0ZXItbWVtYmVyJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhjcmVkZW50aWFsc01lbWJlci51c2VybmFtZSArIGNyZWRlbnRpYWxzTWVtYmVyLnBhc3N3b3JkKTtcclxuICAgICAgLy8gJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIE1lbWJlcicgKyAnICMgJyArIGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQgbG9naW4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgfSk7XHJcbiAgXHJcbiAgXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgLy9SZWdpc3RlciB1c2VyIG9uIHBhZ2VcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAkKCcjbWVtYmVyYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgIHZhciBpbnB1dGZuYW1lID0gJCgnI2lucHV0Zm5hbWVyZWcnKS52YWwoKTtcclxuICAgIHZhciBpbnB1dGxuYW1lID0gJCgnI2lucHV0bG5hbWVyZWcnKS52YWwoKTtcclxuICAgIHZhciBpbnB1dGVtYWlsID0gJCgnI2lucHV0ZW1haWxyZWcnKS52YWwoKTtcclxuICAgIHZhciBpbnB1dGxvY2F0aW9uID0gJCgnI2lucHV0bG9jYXRpb25yZWcnKS52YWwoKTtcclxuICAgIHZhciBpbnB1dHVzZXJuYW1lID0gJCgnI2lucHV0dXNlcm5hbWVyZWcnKS52YWwoKTtcclxuICAgIHZhciBpbnB1dHBhc3MgPSAkKCcjaW5wdXRwYXNzd29yZHJlZycpLnZhbCgpO1xyXG4gICAgXHJcbiAgICAvL2NvbnNvbGUubG9nKCdOZXcgUmVnaXN0ZXJkIHVzZXIgPSAgJyArIGlucHV0dXNlcm5hbWUpO1xyXG4gICAgXHJcbiAgICB2YXIgdXNlckNyZWRzID0ge1xyXG4gICAgICBcImZuYW1lXCIgOiBpbnB1dGZuYW1lLFxyXG4gICAgICBcImxuYW1lXCI6IGlucHV0bG5hbWUsXHJcbiAgICAgIFwiZW1haWxcIjppbnB1dGVtYWlsLFxyXG4gICAgICBcImxvY2F0aW9uXCI6aW5wdXRsb2NhdGlvbixcclxuICAgICAgXCJ1c2VybmFtZVwiOiBpbnB1dHVzZXJuYW1lLFxyXG4gICAgICBcInBhc3N3b3JkXCI6IGlucHV0cGFzcyxcclxuICAgICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHNNZW1iZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyQ3JlZHMpKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0xvY2FsIFN0b3JhZ2Ugc3RvcmUnLCB1c2VyQ3JlZHMpO1xyXG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbG9naW4nKTtcclxuICAgIFxyXG4gIH0pO1xyXG4gIFxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8vTWFuYWdlIFBhcnRuZXJzXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgLy9TYXZlIFBhcnRuZXJzIGZyb20gSlNPTiBmaWxlIGlmIHRoZXkgZG9uJ3QgZXhpc3QgaW50byBsb2NhbCBzdG9yYWdlIGFuZCBkaXNwbGF5IHRoZW1cclxuICAvLyBsaXN0IHBhcnRuZXJzIGZyb20gbG9jYWwgc3RvcmFnZSBpbiB0aGUgdGFibGVcclxuICBmdW5jdGlvbiBsaXN0UGFydG5lcnNGcm9tTFMoKXtcclxuICAgIC8vZ2V0IHBhcnRuZXJzIGZvcm0gbG9jYWwgc3RvcmFnZVxyXG4gICAgdmFyIGZpbmFsUGFydG5lcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5wYXJ0bmVycyk7XHJcbiAgICAvL2NsZWFyIHRoZSB0YWJsZSBjb250ZW50XHJcbiAgICAkKCcjcGFydG5lcnMtdGFibGUgdGJvZHknKS5odG1sKFwiXCIpO1xyXG4gICAgLy9hcHBlbmQgZWFjaCBwYXJ0bmVyIGluIHRoZSB0YWJsZVxyXG4gICAgZmluYWxQYXJ0bmVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICQoJyNwYXJ0bmVycy10YWJsZSB0Ym9keScpLmFwcGVuZChcclxuICAgICAgICBcIjx0cj5cXFxyXG4gICAgICAgIDx0ZD5cIiArIGl0ZW0uaWQgKyBcIjwvdGQ+XFxcclxuICAgICAgICA8dGQ+XCIgKyBpdGVtLm5hbWUgKyBcIjwvdGQ+XFxcclxuICAgICAgICA8dGQ+XCIgKyBpdGVtLnR5cGUgKyBcIjwvdGQ+XFxcclxuICAgICAgICA8dGQ+XCIgKyBpdGVtLmRlc2NyaXB0aW9uICsgXCI8L3RkPlxcXHJcbiAgICAgICAgPHRkPlwiICsgaXRlbS5wYXJ0bmVycGljX3NyYyArIFwiPC90ZD5cXFxyXG4gICAgICAgIDx0ZD48aSBjbGFzcz0nZmEgZmEtcGVuY2lsJyBpZD0nZWRpdC1wYXJ0bmVyLWJ0bicgZGF0YS1wYXJ0bmVyLWlkID0gJ1wiKyBpdGVtLmlkICtcIic+PC9pPlxcXHJcbiAgICAgICAgPGkgY2xhc3M9J2ZhIGZhLXRyYXNoJyBpZD0nZGVsZXRlLXBhcnRuZXItYnRuJyBkYXRhLXBhcnRuZXItaWQgPSAnXCIgKyBpdGVtLmlkICsgXCInPjwvaT48L3RkPlxcXHJcbiAgICAgICAgPC90cj5cIik7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gIH1cclxuICBcclxuICBcclxuICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnI3dkdy1lZGl0LXBhcnRuZXInKS5oaWRlKCk7XHJcbiAgICAkKCcjd2R3LWFkZC1wYXJ0bmVyJykuaGlkZSgpO1xyXG4gICAgJCgnI3BhcnRuZXJzLXRhYmxlIHRib2R5JykuaHRtbChcIlwiKTtcclxuICAgIC8vIG9iamVjdCBmb3IgcGFydG5lcnMgZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgICB2YXIgb1BhcnRuZXJzID0gW107XHJcbiAgICAvL2dldHRpbmcgdGhlIHBhcnRuZXJzIGZyb20gbG9jYWwgc3RvcmFnZVxyXG4gICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BhcnRuZXJzJykgIT09IG51bGwgKSB7XHJcbiAgICAgIG9QYXJ0bmVycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnBhcnRuZXJzKTtcclxuICAgICAgY29uc29sZS5sb2coXCJsb2NhbCBzdG9yYWdlOiBcIiwgb1BhcnRuZXJzKTtcclxuICAgIH1cclxuICAgICQuZ2V0SlNPTihcImFzc2V0cy9kYXRhL3BhcnRuZXJzLmpzb25cIiwgZnVuY3Rpb24gKGpzb25fZGF0YSkge1xyXG4gICAgICBcclxuICAgICAgLy9pZiBsb2NhbCBzdG9yYWdlIGlzIGVtcHR5IGxvYWQgcGFydG5lcnMgZnJvbSBmaWxlXHJcbiAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGFydG5lcnNcIikgPT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBhcnRuZXJzXCIpID09IFwiW11cIil7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnBhcnRuZXJzID0gSlNPTi5zdHJpbmdpZnkoanNvbl9kYXRhKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy9pdGVyYXRpbmcgb3ZlciBvYmplY3RzIGZyb20ganNvbiBmaWxlIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXNcclxuICAgICAganNvbl9kYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqLmlkID0gZWxlbS5pZDtcclxuICAgICAgICBvYmoubmFtZSA9IGVsZW0ubmFtZTtcclxuICAgICAgICBvYmouZGVzY3JpcHRpb24gPSBlbGVtLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIG9iai5wYXJ0bmVycGljX3NyYyA9IGVsZW0ucGFydG5lcnBpY19zcmM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coIFwiUGFydG5lciBpZC5cIiwgb2JqLmlkLCBcIiwgbmFtZTogXCIsIG9iai5uYW1lLCBcIiwgZGVzY3JpcHRpb246IFwiLCBvYmouZGVzY3JpcHRpb24sIFwiLCBwaWN0dXJlL2xvZ286IFwiLCBvYmoucGFydG5lcnBpY19zcmMpO1xyXG4gICAgICAgIFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGxpc3RQYXJ0bmVyc0Zyb21MUygpO1xyXG4gICAgICBcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8vRWRpdCBQYXJ0bmVyXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgXHJcbiAgdmFyIGlkO1xyXG4gIC8vbGlzdGVuZXIgdG8gZGlzcGxheSB0aGUgZWRpdCBjb250YWluZXIgYW5kIGZpbGwgaW5wdXQgZmllbGRzIHdpdGggdGhlIGNsaWNrZWQgcGFydG5lclxyXG4gICQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIjZWRpdC1wYXJ0bmVyLWJ0blwiLCBmdW5jdGlvbigpe1xyXG4gICAgaWQgPSAkKHRoaXMpLmRhdGEoJ3BhcnRuZXItaWQnKTtcclxuICAgIC8vaGlkZSBwYXJ0bmVycyBsaXN0IGFuZCBzaG93IGVkaXQgcGFydG5lciBjb250YWluZXJcclxuICAgICQoXCIjd2R3LWxpc3QtcGFydG5lcnNcIikuaGlkZSgpO1xyXG4gICAgJChcIiN3ZHctZWRpdC1wYXJ0bmVyXCIpLnNob3coKTtcclxuICAgIFxyXG4gICAgdmFyIG9QYXJ0bmVycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnBhcnRuZXJzKTtcclxuICAgIFxyXG4gICAgb1BhcnRuZXJzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgICAgXHJcbiAgICAgIGlmKGVsZW0uaWQgPT0gaWQpe1xyXG4gICAgICAgIC8vc2V0dGluZyB0aGUgaW5wdXQgZmllbGRzIHRvIGJlIGVkaXRlZFxyXG4gICAgICAgICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLW5hbWUnXVwiKS52YWwoZWxlbS5uYW1lKTtcclxuICAgICAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci10eXBlJ11cIikudmFsKGVsZW0udHlwZSk7XHJcbiAgICAgICAgJChcImlucHV0W25hbWU9J3BhcnRuZXItZGVzY3InXVwiKS52YWwoZWxlbS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgJChcImlucHV0W25hbWU9J3BhcnRuZXItcGljdCddXCIpLnZhbChlbGVtLnBhcnRuZXJwaWNfc3JjKTtcclxuICAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vc2F2aW5nIHRoZSBlZGl0ZWQgcGFydG5lclxyXG4gICQoJyNwYXJ0bmVyLXNhdmUtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBcclxuICAgIG9iai5pZCA9IGlkO1xyXG4gICAgb2JqLm5hbWUgPSAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1uYW1lJ11cIikudmFsKClcclxuICAgIG9iai50eXBlID0gJChcImlucHV0W25hbWU9J3BhcnRuZXItdHlwZSddXCIpLnZhbCgpO1xyXG4gICAgb2JqLmRlc2NyaXB0aW9uID0gJChcImlucHV0W25hbWU9J3BhcnRuZXItZGVzY3InXVwiKS52YWwoKTtcclxuICAgIG9iai5wYXJ0bmVycGljX3NyYyA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLXBpY3QnXVwiKS52YWwoKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB2YXIgb1BhcnRuZXJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UucGFydG5lcnMpO1xyXG4gICAgXHJcbiAgICBvUGFydG5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSwgaW5kZXgpIHtcclxuICAgICAgaWYoZWxlbS5pZCA9PSBpZCl7XHJcbiAgICAgICAgLy9yZXBsYWNpbmcgb25seSBmb3IgdGhlIGZvdW5kIGlkXHJcbiAgICAgICAgb1BhcnRuZXJzW2luZGV4XSA9IG9iajtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvL3NldHRpbmcgdGhlIHZhbHVlIHVwZGF0ZWQgaW4gbG9jYWxTdG9yYWdlXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBhcnRuZXJzXCIsIEpTT04uc3RyaW5naWZ5KG9QYXJ0bmVycykpO1xyXG4gICAgLy9kaXNwbGF5IHRoZSBwYXJ0bmVycyBsaXN0IGluc3RlYWQgZWRpdCBwYXJ0bmVyXHJcbiAgICAkKFwiI3dkdy1lZGl0LXBhcnRuZXJcIikuaGlkZSgpO1xyXG4gICAgbGlzdFBhcnRuZXJzRnJvbUxTKCk7XHJcbiAgICAkKFwiI3dkdy1saXN0LXBhcnRuZXJzXCIpLnNob3coKTtcclxuICB9KTtcclxuICBcclxuICAkKCcjY2FuY2VsLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIjd2R3LWVkaXQtcGFydG5lclwiKS5oaWRlKCk7XHJcbiAgICAkKFwiI3dkdy1saXN0LXBhcnRuZXJzXCIpLnNob3coKTtcclxuICB9KTtcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAvL0FkZCBQYXJ0bmVyXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgXHJcbiAgJCgnI2FkZC1wYXJ0bmVyLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIjd2R3LWxpc3QtcGFydG5lcnNcIikuaGlkZSgpO1xyXG4gICAgJChcIiN3ZHctYWRkLXBhcnRuZXJcIikuc2hvdygpO1xyXG4gIH0pO1xyXG4gIFxyXG4gICQoJyNwYXJ0bmVyLWFkZC1ub3ctYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIFxyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gIFxyXG4gICAvKiBvYmouaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsqL1xyXG4gICAgb2JqLm5hbWUgPSAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtbmFtZSddXCIpLnZhbCgpXHJcbiAgICBvYmoudHlwZSA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWFkZC10eXBlJ11cIikudmFsKCk7XHJcbiAgICBvYmouZGVzY3JpcHRpb24gPSAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtZGVzY3InXVwiKS52YWwoKTtcclxuICAgIG9iai5wYXJ0bmVycGljX3NyYyA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWFkZC1waWN0J11cIikudmFsKCk7XHJcbiAgXHJcbiAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtbmFtZSddXCIpLnZhbChcIlwiKVxyXG4gICAgJChcImlucHV0W25hbWU9J3BhcnRuZXItYWRkLXR5cGUnXVwiKS52YWwoXCJcIik7XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtZGVzY3InXVwiKS52YWwoXCJcIik7XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtcGljdCddXCIpLnZhbChcIlwiKTtcclxuICAgIFxyXG4gICAgLy9zYXZlIG5ldyBwYXJ0bmVyIGluIGxvY2FsIHN0b3JhZ2VcclxuICAgIHZhciBvUGFydG5lcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5wYXJ0bmVycyk7XHJcbiAgICBvYmouaWQgPSBvUGFydG5lcnMubGVuZ3RoICsgMTtcclxuICAgIG9QYXJ0bmVycy5wdXNoKG9iaik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFydG5lcnMnLCBKU09OLnN0cmluZ2lmeShvUGFydG5lcnMpKTtcclxuICAgIGxpc3RQYXJ0bmVyc0Zyb21MUygpO1xyXG4gICAgJChcIiN3ZHctYWRkLXBhcnRuZXJcIikuaGlkZSgpO1xyXG4gICAgJChcIiN3ZHctbGlzdC1wYXJ0bmVyc1wiKS5zaG93KCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgJCgnI2NhbmNlbC1idG4yJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIiN3ZHctYWRkLXBhcnRuZXJcIikuaGlkZSgpO1xyXG4gICAgJChcIiN3ZHctbGlzdC1wYXJ0bmVyc1wiKS5zaG93KCk7XHJcbiAgfSlcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAvL0RlbGV0ZSBQYXJ0bmVyc1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8vbGlzdGVuZXIgdG8gZGVsZXRlIG9uZSBwYXJ0bmVyXHJcbiAgJChcImJvZHlcIikub24oXCJjbGlja1wiLFwiI2RlbGV0ZS1wYXJ0bmVyLWJ0blwiLGZ1bmN0aW9uKCl7XHJcbiAgICBpZCA9ICQodGhpcykuZGF0YSgncGFydG5lci1pZCcpO1xyXG4gICAgLy9nZXQgdGhlIHBhcnRuZXJzIGZyb20gbG9jYWwgc3RvcmFnZVxyXG4gICAgdmFyIG9QYXJ0bmVycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnBhcnRuZXJzKTtcclxuICAgIC8vaXRlcmF0ZSB0aHJvdWdoIHBhcnRuZXJzIG9iamVjdCBhbmQgZGVsZXRlIHRoZSBvbmUgd2l0aCBhIHNwZWNpZmljIGlkXHJcbiAgICBvUGFydG5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSwgaW5kZXgpIHtcclxuICAgICAgXHJcbiAgICAgIC8vcmVtb3ZlIHRoZSBwYXJ0bmVyIHdpdGggdGhlIGlkIGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgaWQgb2YgdGhlIG9uZSBjbGlja2VkXHJcbiAgICAgIGlmKGVsZW0uaWQgPT0gaWQpe1xyXG4gICAgICAgIC8vc3dlZXQgYWxlcnQgZm9yIGNvbmZpcm1hdGlvblxyXG4gICAgICAgIHN3YWwoe1xyXG4gICAgICAgICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXHJcbiAgICAgICAgICAgIHRleHQ6IFwiRG8geW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcGFydG5lciFcIixcclxuICAgICAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXHJcbiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXHJcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgZGVsZXRlIGl0IVwiLFxyXG4gICAgICAgICAgICBjbG9zZU9uQ29uZmlybTogZmFsc2VcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBvUGFydG5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwYXJ0bmVyc1wiLCBKU09OLnN0cmluZ2lmeShvUGFydG5lcnMpKTtcclxuICAgICAgICAgICAgbGlzdFBhcnRuZXJzRnJvbUxTKCk7XHJcbiAgICAgICAgICAgIHN3YWwoXCJEZWxldGVkIVwiLCBcIlRoZSBwYXJ0bmVyIGhhcyBiZWVuIGRlbGV0ZWQuXCIsIFwic3VjY2Vzc1wiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gIH0pO1xyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAvL0hvbWUgcGFnZSBTZWFyY2ggXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuZnVuY3Rpb24gY29tcGFyZShpbnB1dFZhbCwgZGF0YVZhbCwgak9iaikge1xyXG5cdGlucHV0VmFsID0gaW5wdXRWYWwudG9Mb3dlckNhc2UoKTtcclxuICBkYXRhVmFsID0gZGF0YVZhbC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICBjb25zb2xlLmxvZyhcIlRoZSBpbnB1dCB2YWx1ZSBpczogXCIgKyBpbnB1dFZhbCk7XHJcbiAgY29uc29sZS5sb2coXCJUaGUgSlNPTiBkYXRhIHRvIGNvbXBhcmUgaXM6IFwiICsgZGF0YVZhbCk7XHJcblxyXG4gIHZhciBib29sID0gZGF0YVZhbC5pbmNsdWRlcyhpbnB1dFZhbCk7XHJcbiAgY29uc29sZS5sb2coXCJUaGUgYm9vbCA9IFwiICsgYm9vbCk7XHJcblxyXG4gICAgaWYgKGJvb2wgPT0gdHJ1ZSkge1xyXG4gICAgXHRjb25zb2xlLmxvZyhcIlRydWVcIik7XHJcbiAgICAgIC8vYWRkIHRvIGpSZXN1bHRzIChtdXN0IGV4aXN0IHdpdGhpbiB0aGUgc2NvcGUgb2YgdGhlIGZ1bmN0aW9uKVxyXG4gICAgICBqUmVzdWx0cy5hZGQoak9iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgXHRjb25zb2xlLmxvZyhcIkZhbHNlXCIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG4gLy9TZWFyY2ggaW5wdXQgLSBIb21lIHBhZ2UgXHJcbiAgJCgnI3NlYXJjaEV2ZW50cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy9nZXQgaW5wdXQgdmFsdWUgb2YgI3NlYXJjaC1lbmdpbmVcclxuICAgICAgdmFyIGlucHV0U2VhcmNoRmllbGQgPSAgJCgnI3NlYXJjaC1lbmdpbmUnKS52YWwoKTtcclxuICAgICAgdmFyIGFJbnB1dCA9IGlucHV0U2VhcmNoRmllbGQuc3BsaXQoXCIgXCIpO1xyXG4gICAgICB2YXIgalJlc3VsdHMgPSB7fTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGFJbnB1dCk7XHJcbiAgICAgIFxyXG4gICAgICAvL2dldCBpbnN0YW5jZSBvZiBsb2NhbFN0b3JhZ2VcclxuICAgICAgdmFyIGpUZW1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZXZlbnRzKTtcclxuICAgICAgXHJcbiAgICAgIC8vY2hlY2sgZWFjaCBhSW5wdXQgZm9yIGEgbWF0Y2hcclxuICAgICAgYUlucHV0LmZvckVhY2goZnVuY3Rpb24oYSkge1xyXG5cclxuICAgICAgICAvL2NoZWNrIGVhY2ggYXJyYXkgb2JqZWN0IGZvciBhIG1hdGNoIGluIGNvcnJlc3BvbmRpbmcganNvblxyXG4gICAgICAgIC8vYSA9PSBqVGVtcC5pbmNyZW1lbnRvci5wcm9wZXJ0eSBcclxuICAgICAgICB2YXIgdGVtcCA9IGE7XHJcblxyXG4gICAgICAgIGpUZW1wLmZvckVhY2goZnVuY3Rpb24oail7XHJcblxyXG4gICAgICAgICAgIHZhciBuYW1lID0gai5uYW1lO1xyXG4gICAgICAgICAgIHZhciB0b3BpYyA9IGoudG9waWM7XHJcbiAgICAgICAgICAgdmFyIGxldmVsID0gai5sZXZlbDtcclxuICAgICAgICAgICB2YXIgb3JnID0gai5zcGVha2VyX29yZ2FuaXphdGlvbjtcclxuICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBqLmxvY2F0aW9uO1xyXG5cclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY29tcGFyZSBcIiArIHRlbXAgKyBcIiB0bzogXCIgKyBqLm5hbWUsIFwiTG9jYSA6XCIgKyBqLmxvY2F0aW9uICsgXCIgT3JnYW5pemF0aW9uIFwiICsgai5zcGVha2VyX29yZ2FuaXphdGlvbiApO1xyXG5cclxuICAgICAgICAgICAvL0NvbXBhcmUgdGhlIHZhbHVlcyBmcm9tIGlucHV0IC0+IGFycmF5c1xyXG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBuYW1lKTtcclxuICAgICAgICAgIC8vY29tcGFyZSh0ZW1wLCB0b3BpYyk7IC8vdGhpcyBpcyBhbiBhcnJheVxyXG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBsZXZlbCk7XHJcbiAgICAgICAgICBjb21wYXJlKHRlbXAsIG9yZyk7XHJcbiAgICAgICAgICAvL2NvbXBhcmUodGVtcCwgbG9jYXRpb24pOyAvL3RoaXMgaXMgYSBKU09OIG9iamVjdFxyXG5cclxuICBcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7IFxyXG4gIH0pOyBcclxuXHJcblxyXG4gIFxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIC8vRXZlbnQgTGlzdGVuZXJzXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgXHJcbiBcclxuICAvL1Bvc3RcclxuICAkKCcjcG9zdGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgZ2V0UG9zdCgpO1xyXG4gICAgY29uc29sZS5sb2coJ3Bvc3QgZXZlbnQnKTtcclxuICB9KTtcclxuXHJcbi8vTmF2IC0gTG9naW5cclxuICAkKCcjbGlua0xvZ2luJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1sb2dpbicpO1xyXG4gICAgY29uc29sZS5sb2coJ05hdiAtIGxvZ2luIGNsaWNrZWQnKTtcclxuICB9KTtcclxuXHJcbi8vTmF2IC0gSG9tZVxyXG4gICQoJyNsaW5rSG9tZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctaG9tZScpO1xyXG4gICAgY29uc29sZS5sb2coJ05hdiAtIEhvbWUgQ2xpY2tlZCAnKTtcclxuICB9KTtcclxuXHJcblxyXG4vL05hdiAtIEV2ZW50XHJcbiAgJCgnI2xpbmtFdmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWV2ZW50cycpO1xyXG4gICAgY29uc29sZS5sb2coJ05hdiAtIExpbmsgRXZlbnQnKTtcclxuICB9KTtcclxuXHJcblxyXG4vL05hdiAtIE5ld3NcclxuICAkKCcjbGlua05ld3MnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW5ld3MnKTtcclxuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBOZXdzIGNsaWNrZWQnKTtcclxuICB9KTtcclxuXHJcbi8vTmF2IC0gQ2FsZW5kYXJcclxuICAkKCcjbGlua0NhbGVuZGFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1jYWxlbmRhcicpO1xyXG4gICAgY29uc29sZS5sb2coJ05hdiAtIENhbGVuZGFyIGNsaWNrZWQnKTtcclxuICB9KTtcclxuXHJcbi8vTmF2IC0gQWxsIEV2ZW50c1xyXG4gICQoJyNsaW5rQWxsRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1hbGwtZXZlbnRzJyk7XHJcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gYWxsIGV2ZW50cyBjbGljaycpO1xyXG4gIH0pO1xyXG5cclxuXHJcbi8vUGFnZSAtIFBvc3QgYW4gZXZlbnRcclxuICAkKCcjYnRucG9zdGV2ZW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1wb3N0LWV2ZW50Jyk7XHJcbiAgICBjb25zb2xlLmxvZygnUG9zdGNsaWNrZScpO1xyXG4gIH0pO1xyXG5cclxuLy9SZW1vdmUgRXZlbnRcclxuICBhRXZlbnRzLmluZGV4T2YodGhpcyk7XHJcbiAgXHJcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZygnVHJhc2hlZCBjbGlja2VkJywgYUV2ZW50cywgYUV2ZW50c1tpXSwgYUV2ZW50cy5sZW5ndGgpO1xyXG4gICAgYUV2ZW50cy5zcGxpY2UoMSwxKTtcclxuICB9KTtcclxuXHJcblxyXG4vL1RyYXNoIERlbGV0ZSBzZWFyY2ggZXZlbnRzXHJcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgIGNvbnNvbGUubG9nKCdUcmFzaCBkZWxldGUgY2xpY2tlZCAnKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuLy9BZG1pbiBJbmRleFxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdldmVudHMnICwgYUV2ZW50cyk7XHJcbiAgXHJcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4iXX0=
