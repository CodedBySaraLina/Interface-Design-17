/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
!function(t,e,n,a){"use strict";function o(){var e=JSON.parse(localStorage.events);e.forEach(function(e){t("#event-listing tbody").append('<tr data-event-id="'+e.id+'">\t\t\t\t\t\t\t\t\t\t<td>'+e.name+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.topic+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.speaker+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.date.day+" "+e.date.month+" "+e.date.year+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.time_24h.hour+":"+e.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t')})}function i(e){t(".wdw").fadeOut(300),t("#"+e).fadeIn(300)}function l(){t("#linkRegister").fadeOut(500),t("#linkLogin").fadeOut(500),t("#linkLogout").fadeIn(500)}function r(){var e=t("#inputpostimg").val(),n=t("#inputposttitel").val(),a=t("#inputpostdesc").val(),o=t("#inputpostlocation").val(),i={postimageurl:e,posttitel:n,postdesc:a,postloc:o};console.log(i)}function d(){var t={username:"username",password:"password"};localStorage.setItem("credentials",JSON.stringify(t))}function s(){var e=JSON.parse(localStorage.partners);t("#partners-table tbody").html(""),e.forEach(function(e){t("#partners-table tbody").append("<tr>        <td>"+e.id+"</td>        <td>"+e.name+"</td>        <td>"+e.type+"</td>        <td>"+e.description+"</td>        <td>"+e.partnerpic_src+"</td>        <td><i class='fa fa-pencil' id='edit-partner-btn' data-partner-id = '"+e.id+"'></i>        <i class='fa fa-trash' id='delete-partner-btn' data-partner-id = '"+e.id+"'></i></td>        </tr>")})}function c(t,e,n,a){var o=t.toLowerCase(),i=e.toLowerCase();console.log("The input value is: "+o),console.log("The JSON data to compare is: "+i);var l=i.includes(o);console.log("The bool = "+l),1==l?(console.log("Match made"),a.push(n)):console.log("False")}null==localStorage.events?(console.log("localStorage.events is empty"),t.getJSON("assets/data/events.json").done(function(t){console.log(t),t=JSON.stringify(t),localStorage.events=t,console.log("localStorage.events successfully populated"),o()})):localStorage.events&&(console.log("localStorage.events has data"),o()),t("#create-event-btn").on("click",function(){console.log("save-btn clicked");var e=new Date;e=e.valueOf();var n=t("#wdw-event-create").find("input[name='event-name']").val(),a=t("#wdw-event-create").find("input[name='event-topics']").val(),o=t("#wdw-event-create").find("input[name='event-level']").val(),i=t("#wdw-event-create").find("input[name='event-speaker']").val(),l=t("#wdw-event-create").find("input[name='event-speaker-org']").val(),r=new Date(t("#wdw-event-create").find("input[name='event-date']").val()),d=t("#wdw-event-create").find("input[name='event-time']").val(),s=t("#wdw-event-create").find("input[name='event-info']").val();console.log(p);var c=[],c=a.split(",");for(console.log(c),u=0;u<c.length;u++)" "==c[u].charAt(0)&&(console.log("first char: "+c[u].charAt(0)),c[u]=c[u].slice(1,c[u].length),console.log("str now equals "+c[u]))," "==c[u].charAt(c[u].length-1)&&(console.log("last char: "+c[u].charAt(0)),c[u]=c[u].slice(0,c[u].length-1),console.log("str now equals "+c[u]));console.log(c);var p=d.split(":",2);p.forEach(function(t){if(console.log("aTime Foreach"),console.log(t.length),t.length>2)return console.log(t),void console.log("Invalid time");if(t.length<=2){var e=p.indexOf(t);0==e?(console.log(t),r.setHours(t)):1==e&&(console.log(t),r.setMinutes(t))}}),console.log(r);var v={id:e,name:n,topic:c,level:o,speaker:i,speaker_organization:l,date:{day:r.getDate(),month:r.getMonth(),year:r.getFullYear()},time_24h:{hour:r.getHours(),minute:r.getMinutes()},info:s,past:!1};console.log(v);var g=JSON.parse(localStorage.events);g.push(v),localStorage.setItem("events",JSON.stringify(g)),t("#event-listing").append('<tr data-event-id="'+v.id+'">\t\t\t\t\t\t\t\t\t<td>'+v.name+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.topic+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.speaker+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.date.day+" "+v.date.month+" "+v.date.year+"</td>\t\t\t\t\t\t\t\t\t<td>"+v.time_24h.hour+":"+v.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t</tr>\t')}),t(n).on("click","#edit-event-icon",function(){console.log(".fa-pencil icon clicked");var e=t(this).parent().parent().data("event-id");t("#wdw-event-update").attr("data-event-id",e);var a=JSON.parse(localStorage.events);a.forEach(function(a){if(a.id==e){var o=a.date.year+"-"+a.date.month+"-"+a.date.day,i=o.split("-");if(1==i[1].length){var l=i[1].toString(),r="0",d=r.concat(l);i[1]=d,console.log(i[1])}if(1==i[2].length){var l=i[2].toString(),r="0",d=r.concat(l);i[2]=d,console.log(i[2])}var o=a.date.year+"-"+i[1]+"-"+i[2];console.log(o),t("#wdw-event-update").find("input[name='event-name']").val(a.name),t("#wdw-event-update").find("input[name='event-topics']").val(a.topic),t("#wdw-event-update").find("input[name='event-level']").val(a.level),t("#wdw-event-update").find("input[name='event-speaker']").val(a.speaker),t("#wdw-event-update").find("input[name='event-speaker-org']").val(a.speaker_organization),n.getElementById("edit-event-date").value=o,t("#wdw-event-update").find("input[name='event-time']").val(a.time_24h.hour+":"+a.time_24h.minute),t("#wdw-event-update").find("input[name='event-info']").val(a.info)}})}),t("#update-event-btn").on("click",function(){console.log("#update-event clicked");var e=t("#wdw-event-update").attr("data-event-id"),a=t("#wdw-event-update").find("input[name='event-name']").val(),o=t("#wdw-event-update").find("input[name='event-topics']").val(),i=t("#wdw-event-update").find("input[name='event-level']").val(),l=t("#wdw-event-update").find("input[name='event-speaker']").val(),r=t("#wdw-event-update").find("input[name='event-speaker-org']").val(),d=new Date(t("#wdw-event-update").find("input[name='event-date']").val()),s=t("#wdw-event-update").find("input[name='event-time']").val(),c=t("#wdw-event-update").find("input[name='event-info']").val();console.log(v);var p=[],p=o.split(",");for(console.log(p),u=0;u<p.length;u++)" "==p[u].charAt(0)&&(console.log("first char: "+p[u].charAt(0)),p[u]=p[u].slice(1,p[u].length),console.log("str now equals "+p[u]))," "==p[u].charAt(p[u].length-1)&&(console.log("last char: "+p[u].charAt(0)),p[u]=p[u].slice(0,p[u].length-1),console.log("str now equals "+p[u]));console.log(p);var v=s.split(":",2);v.forEach(function(t){if(console.log("aTime Foreach"),console.log(t.length),t.length>2)return console.log(t),void console.log("Invalid time");if(t.length<=2){var e=v.indexOf(t);0==e?(console.log(t),d.setHours(t)):1==e&&(console.log(t),d.setMinutes(t))}}),console.log(d);var g={id:e,name:a,topic:p,level:i,speaker:l,speaker_organization:r,date:{day:d.getDate(),month:d.getMonth(),year:d.getFullYear()},time_24h:{hour:d.getHours(),minute:d.getMinutes()},info:c,past:!1};console.log(g);var f=JSON.parse(localStorage.events);f.forEach(function(t){t.id==g.id&&f.splice(f.indexOf(t),1)}),f.push(g),localStorage.setItem("events",JSON.stringify(f)),t("#wdw-event-update").attr("data-event-id",""),t(n).find("[data-event-id="+g.id+"]").remove(),t("#event-listing tbody").prepend('<tr data-event-id="'+g.id+'">\t\t\t\t\t\t\t\t\t<td>'+g.name+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.topic+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.speaker+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.date.day+" "+g.date.month+" "+g.date.year+"</td>\t\t\t\t\t\t\t\t\t<td>"+g.time_24h.hour+":"+g.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t</tr>\t')}),t("#cancel-update-event-btn").on("click",function(){t("#wdw-event-update").attr("data-event-id","")}),t(n).on("click","#delete-event-icon",function(){console.log(".fa-trash icon clicked");var e=t(this).parent().parent().data("event-id"),a=JSON.parse(localStorage.events);a.forEach(function(t){t.id==e&&(a.splice(a.indexOf(t),1),console.log("ID "+t.id+"spliced from localTemp"))}),console.log(a),localStorage.events=JSON.stringify(a),t(n).find("[data-event-id="+e+"]").remove()});var p=[];if(localStorage.sEvents){var v=localStorage.sEvents;p=JSON.parse(v)}t(function(){});for(var u=0;u<p.length;u++)t("#lblEvents").append('<tr><th scope="row"><h4>'+p[u].id+"</h4></th><td><h4>"+p[u].name+'</h4></td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>');t("#postbtn").on("click",function(){var e=(new Date).getTime(),n=t("#inputpostimg").val(),a=t("#inputpostevent").val(),o=t("#inputpostdesc").val(),l=t("#inputpostlocation").val(),r="link";t("#lblEvents").append("<tr><td>"+a+"</td><td>"+l+"</td><td>"+e+"</td><td>"+r+'</td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>'),i("wdw-calendar");var d={};d.id=(new Date).getTime(),d.imageUrl=n,d.postevent=a,d.PostDesc=o,d.sPostLocation=l,p.push(d);var s=JSON.stringify(p);localStorage.sEvents=s}),t("#lblEvents div").each(function(e){console.log(e+": "+t(this).text()),t(this).css}),t(n).ready(function(){i("wdw-events")}),t(n).ready(function(){d()}),t("#loginbtn").on("click",function(){var e=JSON.parse(localStorage.getItem("credentials")),n=JSON.parse(localStorage.getItem("credentialsMember")),a=t("#inputusername").val(),o=t("#inputpassword").val();e.username===a&&e.password===o||n.username===a&&n.password===o?(console.log("Welcome Mr.   "+e.username),l(),t(".brand h1").text("Logged in as Admin # "+e.username),i("wdw-register-member"),console.log(n.username+n.password)):console.log("failed login")}),t("#memberbtn").on("click",function(){var e=t("#inputfnamereg").val(),n=t("#inputlnamereg").val(),a=t("#inputemailreg").val(),o=t("#inputlocationreg").val(),l=t("#inputusernamereg").val(),r=t("#inputpasswordreg").val(),d={fname:e,lname:n,email:a,location:o,username:l,password:r};localStorage.setItem("credentialsMember",JSON.stringify(d)),console.log("Local Storage store",d),i("wdw-login")}),t(n).ready(function(){t("#wdw-edit-partner").hide(),t("#wdw-add-partner").hide(),t("#partners-table tbody").html("");var e=[];null!==localStorage.getItem("partners")&&(e=JSON.parse(localStorage.partners),console.log("local storage: ",e)),t.getJSON("assets/data/partners.json",function(t){null!=localStorage.getItem("partners")&&"[]"!=localStorage.getItem("partners")||(localStorage.partners=JSON.stringify(t)),t.forEach(function(t){var e={};e.id=t.id,e.name=t.name,e.description=t.description,e.partnerpic_src=t.partnerpic_src,console.log("Partner id.",e.id,", name: ",e.name,", description: ",e.description,", picture/logo: ",e.partnerpic_src)}),s()})});var g;t("body").on("click","#edit-partner-btn",function(){g=t(this).data("partner-id"),t("#wdw-list-partners").hide(),t("#wdw-edit-partner").show();var e=JSON.parse(localStorage.partners);e.forEach(function(e){e.id==g&&(t("input[name='partner-name']").val(e.name),t("input[name='partner-type']").val(e.type),t("input[name='partner-descr']").val(e.description),t("input[name='partner-pict']").val(e.partnerpic_src))})}),t("#partner-save-btn").on("click",function(){var e={};e.id=g,e.name=t("input[name='partner-name']").val(),e.type=t("input[name='partner-type']").val(),e.description=t("input[name='partner-descr']").val(),e.partnerpic_src=t("input[name='partner-pict']").val();var n=JSON.parse(localStorage.partners);n.forEach(function(t,a){t.id==g&&(n[a]=e)}),localStorage.setItem("partners",JSON.stringify(n)),t("#wdw-edit-partner").hide(),s(),t("#wdw-list-partners").show()}),t("#cancel-btn").on("click",function(){t("#wdw-edit-partner").hide(),t("#wdw-list-partners").show()}),t("#add-partner-btn").on("click",function(){t("#wdw-list-partners").hide(),t("#wdw-add-partner").show()}),t("#partner-add-now-btn").on("click",function(){var e={};e.name=t("input[name='partner-add-name']").val(),e.type=t("input[name='partner-add-type']").val(),e.description=t("input[name='partner-add-descr']").val(),e.partnerpic_src=t("input[name='partner-add-pict']").val(),t("input[name='partner-add-name']").val(""),t("input[name='partner-add-type']").val(""),t("input[name='partner-add-descr']").val(""),t("input[name='partner-add-pict']").val("");var n=JSON.parse(localStorage.partners);e.id=n.length+1,n.push(e),localStorage.setItem("partners",JSON.stringify(n)),s(),t("#wdw-add-partner").hide(),t("#wdw-list-partners").show()}),t("#cancel-btn2").on("click",function(){t("#wdw-add-partner").hide(),t("#wdw-list-partners").show()}),t("body").on("click","#delete-partner-btn",function(){g=t(this).data("partner-id");var e=JSON.parse(localStorage.partners);e.forEach(function(t,n){t.id==g&&swal({title:"Are you sure?",text:"Do you want to delete this partner!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){e.splice(n,1),localStorage.setItem("partners",JSON.stringify(e)),s(),swal("Deleted!","The partner has been deleted.","success")})})}),t("#searchEvents").on("click",function(){var e=t("#search-engine").val(),n=e.split(" "),a=[];console.log(n);var o=JSON.parse(localStorage.events);n.forEach(function(t){var e=t;o.forEach(function(t){var n=t.name,o=(t.topic,t.level),i=t.speaker_organization;t.location;c(e,n,t,a),c(e,o,t,a),c(e,i,t,a)})}),console.log(a);var i=a.filter(function(t,e,n){return e==n.indexOf(t)});console.log(i),t("#event-listing").empty();var l=i.length/3;console.log("The base number is: "+l),i.forEach(function(e){var n=e.topic;console.log(i.length),console.log(e.name),t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>          ")})}),t("#postbtn").on("click",function(){r(),console.log("post event")}),t("#link-login").on("click",function(){i("wdw-login"),console.log("Nav - login clicked")}),t("#link-home").on("click",function(){i("wdw-events"),console.log("Nav - Home Clicked ")}),t("#link-events").on("click",function(){i("wdw-event-manager-container")}),t("#linkNews").on("click",function(){i("wdw-news")}),t("#link-partners").on("click",function(){i("partners-container")}),t("#linkCalendar").on("click",function(){i("wdw-calendar"),console.log("Nav - Calendar clicked")}),t("#linkAllEvents").on("click",function(){i("wdw-all-events"),console.log("Nav - all events click")}),t("#btnpostevent").on("click",function(){i("wdw-post-event"),console.log("Postclicke")}),p.indexOf(this),t(".fa-fa-trash").click(function(){console.log("Trashed clicked",p,p[u],p.length),p.splice(1,1)}),t(".fa-fa-trash").click(function(){t(this).parent().hide(),console.log("Trash delete clicked ")}),console.log("events",p)}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiaW5pdFBvcERhdGEiLCJqRXZlbnRzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZXZlbnRzIiwiZm9yRWFjaCIsImoiLCJhcHBlbmQiLCJpZCIsIm5hbWUiLCJ0b3BpYyIsInNwZWFrZXIiLCJkYXRlIiwiZGF5IiwibW9udGgiLCJ5ZWFyIiwidGltZV8yNGgiLCJob3VyIiwibWludXRlIiwiaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93Iiwic1dpbmRvd0lkIiwiZmFkZU91dCIsImZhZGVJbiIsImlzTG9nZ2VkSW4iLCJnZXRQb3N0Iiwic0ltYWdlVXJsIiwidmFsIiwic3Bvc3R0aXRlbCIsInNQb3N0RGVzYyIsInNQb3N0TG9jYXRpb24iLCJQb3N0IiwicG9zdGltYWdldXJsIiwicG9zdHRpdGVsIiwicG9zdGRlc2MiLCJwb3N0bG9jIiwiY29uc29sZSIsImxvZyIsImxvZ2luQWRtaW4iLCJ1c2VyQ3JlZHNBZG1pbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibGlzdFBhcnRuZXJzRnJvbUxTIiwiZmluYWxQYXJ0bmVycyIsInBhcnRuZXJzIiwiaHRtbCIsIml0ZW0iLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJwYXJ0bmVycGljX3NyYyIsImNvbXBhcmUiLCJpbnB1dFZhbCIsImRhdGFWYWwiLCJqT2JqIiwiakRhdGEiLCJpbnB1dFZhbExvd2VyIiwidG9Mb3dlckNhc2UiLCJkYXRhVmFsTG93ZXIiLCJib29sIiwiaW5jbHVkZXMiLCJwdXNoIiwiZ2V0SlNPTiIsImRvbmUiLCJvbiIsInNJZCIsIkRhdGUiLCJ2YWx1ZU9mIiwic05hbWUiLCJmaW5kIiwic1RvcGljcyIsInNMZXZlbCIsInNTcGVha2VyIiwic1NwZWFrZXJPcmciLCJkRGF0ZSIsInNUaW1lIiwic0luZm8iLCJhVGltZSIsImFUb3BpY3MiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJjaGFyQXQiLCJzbGljZSIsImluZGV4IiwiaW5kZXhPZiIsInNldEhvdXJzIiwic2V0TWludXRlcyIsImpFdmVudE9iaiIsImxldmVsIiwic3BlYWtlcl9vcmdhbml6YXRpb24iLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImluZm8iLCJwYXN0IiwibG9jYWxUZW1wIiwic0RhdGFJZCIsInRoaXMiLCJwYXJlbnQiLCJkYXRhIiwiYXR0ciIsImFEYXRlIiwidGVtcCIsInRvU3RyaW5nIiwiemVybyIsInN0ciIsImNvbmNhdCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJzcGxpY2UiLCJyZW1vdmUiLCJwcmVwZW5kIiwiYUV2ZW50cyIsInNFdmVudHMiLCJzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSIsInNFdmVudElkIiwiZ2V0VGltZSIsInNwb3N0ZXZlbnQiLCJzTGluayIsImpFdmVudCIsImltYWdlVXJsIiwicG9zdGV2ZW50IiwiUG9zdERlc2MiLCJzRmluYWxFdmVudHMiLCJlYWNoIiwidGV4dCIsImNzcyIsInJlYWR5IiwiY3JlZGVudGlhbHMiLCJnZXRJdGVtIiwiY3JlZGVudGlhbHNNZW1iZXIiLCJ1c2VybmFtZUlucHV0IiwiaW5wdXRmbmFtZSIsImlucHV0bG5hbWUiLCJpbnB1dGVtYWlsIiwiaW5wdXRsb2NhdGlvbiIsImlucHV0dXNlcm5hbWUiLCJpbnB1dHBhc3MiLCJ1c2VyQ3JlZHMiLCJmbmFtZSIsImxuYW1lIiwiZW1haWwiLCJsb2NhdGlvbiIsImhpZGUiLCJvUGFydG5lcnMiLCJqc29uX2RhdGEiLCJlbGVtIiwib2JqIiwic2hvdyIsInN3YWwiLCJ0aXRsZSIsInNob3dDYW5jZWxCdXR0b24iLCJjb25maXJtQnV0dG9uQ29sb3IiLCJjb25maXJtQnV0dG9uVGV4dCIsImNsb3NlT25Db25maXJtIiwiaW5wdXRTZWFyY2hGaWVsZCIsImFJbnB1dCIsImpSZXN1bHRzIiwialRlbXAiLCJhIiwib3JnIiwialJlc3VsdHNGaW5hbCIsImZpbHRlciIsInNlbGYiLCJlbXB0eSIsImJhc2VOdW1iZXIiLCJjbGljayIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FJQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFlBdVRBLFNBQUFDLEtBR0EsR0FBQUMsR0FBQUMsS0FBQUMsTUFBQUMsYUFBQUMsT0FDQUosR0FBQUssUUFBQSxTQUFBQyxHQUNBWCxFQUFBLHdCQUFBWSxPQUFBLHNCQUFBRCxFQUFBRSxHQUFBLDZCQUNBRixFQUFBRyxLQUFBLGdDQUNBSCxFQUFBSSxNQUFBLGdDQUNBSixFQUFBSyxRQUFBLGdDQUNBTCxFQUFBTSxLQUFBQyxJQUFBLElBQUFQLEVBQUFNLEtBQUFFLE1BQUEsSUFBQVIsRUFBQU0sS0FBQUcsS0FBQSxnQ0FDQVQsRUFBQVUsU0FBQUMsS0FBQSxJQUFBWCxFQUFBVSxTQUFBRSxPQUFBLDhRQVdBLFFBQUFDLEdBQUFDLEdBRUF6QixFQUFBLFFBQUEwQixRQUFBLEtBRUExQixFQUFBLElBQUF5QixHQUFBRSxPQUFBLEtBdUdBLFFBQUFDLEtBRUE1QixFQUFBLGlCQUFBMEIsUUFBQSxLQUNBMUIsRUFBQSxjQUFBMEIsUUFBQSxLQUNBMUIsRUFBQSxlQUFBMkIsT0FBQSxLQXdEQSxRQUFBRSxLQUNBLEdBQUFDLEdBQUE5QixFQUFBLGlCQUFBK0IsTUFDQUMsRUFBQWhDLEVBQUEsbUJBQUErQixNQUNBRSxFQUFBakMsRUFBQSxrQkFBQStCLE1BQ0FHLEVBQUFsQyxFQUFBLHNCQUFBK0IsTUFJQUksR0FDQUMsYUFBQU4sRUFDQU8sVUFBQUwsRUFDQU0sU0FBQUwsRUFDQU0sUUFBQUwsRUFJQU0sU0FBQUMsSUFBQU4sR0FXQSxRQUFBTyxLQUNBLEdBQUFDLElBQ0FDLFNBQUEsV0FDQUMsU0FBQSxXQUdBckMsY0FBQXNDLFFBQUEsY0FBQXhDLEtBQUF5QyxVQUFBSixJQTBFQSxRQUFBSyxLQUVBLEdBQUFDLEdBQUEzQyxLQUFBQyxNQUFBQyxh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QUEsYUFDQWdCLFFBQUFDLElBQUEseUJBSUF6QyxFQUFBLGNBQUFxRSxHQUFBLFFBQUEsV0FDQTdDLEVBQUEsY0FDQWdCLFFBQUFDLElBQUEseUJBS0F6QyxFQUFBLGdCQUFBcUUsR0FBQSxRQUFBLFdBQ0E3QyxFQUFBLGlDQUtBeEIsRUFBQSxhQUFBcUUsR0FBQSxRQUFBLFdBQ0E3QyxFQUFBLGNBS0F4QixFQUFBLGtCQUFBcUUsR0FBQSxRQUFBLFdBQ0E3QyxFQUFBLHdCQUlBeEIsRUFBQSxpQkFBQXFFLEdBQUEsUUFBQSxXQUNBN0MsRUFBQSxnQkFDQWdCLFFBQUFDLElBQUEsNEJBSUF6QyxFQUFBLGtCQUFBcUUsR0FBQSxRQUFBLFdBQ0E3QyxFQUFBLGtCQUNBZ0IsUUFBQUMsSUFBQSw0QkFLQXpDLEVBQUEsaUJBQUFxRSxHQUFBLFFBQUEsV0FDQTdDLEVBQUEsa0JBQ0FnQixRQUFBQyxJQUFBLGdCQUlBK0UsRUFBQTlCLFFBQUFlLE1BRUF6RyxFQUFBLGdCQUFBOEssTUFBQSxXQUNBdEksUUFBQUMsSUFBQSxrQkFBQStFLEVBQUFBLEVBQUFuQyxHQUFBbUMsRUFBQWxDLFFBQ0FrQyxFQUFBSCxPQUFBLEVBQUEsS0FLQXJILEVBQUEsZ0JBQUE4SyxNQUFBLFdBQ0E5SyxFQUFBeUcsTUFBQUMsU0FBQTZDLE9BQ0EvRyxRQUFBQyxJQUFBLDJCQU9BRCxRQUFBQyxJQUFBLFNBQUErRSxJQUVBdUQsT0FBQTlLLE9BQUFDIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cblxuXG4oZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuICBcbiAgJ3VzZSBzdHJpY3QnO1xuXG5cbi8vY2hlY2sgaWYgdXNlciBzdGF0ZSA9PSBhZG1pbiBvciB1c2VyXG4vL2lmIGZhbHNlLCBkbyB0aGlzLi5cbi8vaWYgdHJ1ZSBkbyB0aGF0Li5cblxuXG4vL0lOSVQgTE9DQUwgU1RPUkFHRSAtIElGIE5PIERBVEEgSVMgUFJFU0VOVFxuICBpZiAobG9jYWxTdG9yYWdlLmV2ZW50cyA9PSBudWxsKSB7XG4gICAgLy9pbXBvcnQgZGF0YSBmcm9tIGRhdGEvZXZlbnRzLmpzb25cbiAgICAvL2lucHV0IGludG8gbG9jYWxTdG9yYWdlLmV2ZW50c1xuICAgIC8vanNvbiBmaWxlIHdpbGwgYWx3YXlzIGhhdmUgZGF0YSwgd2hpY2ggaXMgd2h5IHRoaXMgbWV0aG9kIHdpbGwgYWx3YXlzIHdvcmshXG4gICAgY29uc29sZS5sb2coXCJsb2NhbFN0b3JhZ2UuZXZlbnRzIGlzIGVtcHR5XCIpO1xuICAgICQuZ2V0SlNPTihcImFzc2V0cy9kYXRhL2V2ZW50cy5qc29uXCIpLmRvbmUoIGZ1bmN0aW9uKGpEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhqRGF0YSk7XG4gICAgICAvL3B1dCB0aGUgakRhdGEgb2JqZWN0cyBpbnRvIGxvY2FsU3RvcmFnZVxuICAgICAgakRhdGEgPSBKU09OLnN0cmluZ2lmeShqRGF0YSk7XG4gICAgICBsb2NhbFN0b3JhZ2UuZXZlbnRzID0gakRhdGE7XG4gICAgICBjb25zb2xlLmxvZyhcImxvY2FsU3RvcmFnZS5ldmVudHMgc3VjY2Vzc2Z1bGx5IHBvcHVsYXRlZFwiKTtcbiAgICAgIC8vcG9wdWxhdGUgZGF0YSBpbiAjZXZlbnQtbGlzdGluZ1xuXG4gICAgICBpbml0UG9wRGF0YSgpOyAvL3BvcHVsYXRlIGRhdGEgaW4gZXZlbnQtbWFuYWdlbWVudCB0YWJsZVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5ldmVudHMpIHtcbiAgICAvL2xvYWQgZXZlcnl0aGluZyBmcm9tIGxvY2Fsc3RvcmFnZSBhbmQgcG9wdWxhdGUgdGhlIGRpdiB3aXRoIGRhdGEuLlxuICAgIGNvbnNvbGUubG9nKFwibG9jYWxTdG9yYWdlLmV2ZW50cyBoYXMgZGF0YVwiKTtcbiAgICBpbml0UG9wRGF0YSgpO1xuICB9XG5cbi8vQyBmcm9tIENSVUQgLSBvbkNsaWNrICNzYXZlLWJ0biAtIHNhdmUgZGF0YSBmcm9tIGludGVyZmFjZSB0byBsb2NhbFN0b3JhZ2VcbiAgJChcIiNjcmVhdGUtZXZlbnQtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJzYXZlLWJ0biBjbGlja2VkXCIpO1xuICAgIC8vZ2V0IHZhbHVlIG9mIGFsbCBpdGVtcy4uXG4gICAgdmFyIHNJZCA9IG5ldyBEYXRlKCk7XG4gICAgc0lkID0gc0lkLnZhbHVlT2YoKTtcbiAgICB2YXIgc05hbWUgPSAkKFwiI3dkdy1ldmVudC1jcmVhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LW5hbWUnXVwiKS52YWwoKTtcbiAgICB2YXIgc1RvcGljcyA9ICQoXCIjd2R3LWV2ZW50LWNyZWF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtdG9waWNzJ11cIikudmFsKCk7XG4gICAgdmFyIHNMZXZlbCA9ICQoXCIjd2R3LWV2ZW50LWNyZWF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtbGV2ZWwnXVwiKS52YWwoKTtcbiAgICB2YXIgc1NwZWFrZXIgPSAkKFwiI3dkdy1ldmVudC1jcmVhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXNwZWFrZXInXVwiKS52YWwoKTtcbiAgICB2YXIgc1NwZWFrZXJPcmcgPSAkKFwiI3dkdy1ldmVudC1jcmVhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXNwZWFrZXItb3JnJ11cIikudmFsKCk7XG4gICAgdmFyIGREYXRlID0gbmV3IERhdGUoJChcIiN3ZHctZXZlbnQtY3JlYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1kYXRlJ11cIikudmFsKCkpO1xuICAgIHZhciBzVGltZSA9ICQoXCIjd2R3LWV2ZW50LWNyZWF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtdGltZSddXCIpLnZhbCgpO1xuICAgIHZhciBzSW5mbyA9ICQoXCIjd2R3LWV2ZW50LWNyZWF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtaW5mbyddXCIpLnZhbCgpOyAvL2luZm9cbiAgICBjb25zb2xlLmxvZyhhVGltZSk7XG4gICAgXG4gICAgdmFyIGFUb3BpY3MgPSBbXTtcbiAgICAvL2dldCBlYWNoIHRvcGljIGFuZCBzdG9yZSBpdCBpbiBhbiBhcnJheVxuICAgIHZhciBhVG9waWNzID0gc1RvcGljcy5zcGxpdChcIixcIik7XG4gICAgY29uc29sZS5sb2coYVRvcGljcyk7XG4gICAgXG4gICAgZm9yIChpID0gMDsgaSA8IGFUb3BpY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhVG9waWNzW2ldLmNoYXJBdCgwKSA9PSBcIiBcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcImZpcnN0IGNoYXI6IFwiICsgYVRvcGljc1tpXS5jaGFyQXQoMCkpO1xuICAgICAgICBhVG9waWNzW2ldID0gYVRvcGljc1tpXS5zbGljZSgxLCBhVG9waWNzW2ldLmxlbmd0aCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RyIG5vdyBlcXVhbHMgXCIgKyBhVG9waWNzW2ldKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGFUb3BpY3NbaV0uY2hhckF0KGFUb3BpY3NbaV0ubGVuZ3RoIC0gMSkgPT0gXCIgXCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJsYXN0IGNoYXI6IFwiICsgYVRvcGljc1tpXS5jaGFyQXQoMCkpO1xuICAgICAgICBhVG9waWNzW2ldID0gYVRvcGljc1tpXS5zbGljZSgwLCBhVG9waWNzW2ldLmxlbmd0aC0xKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJzdHIgbm93IGVxdWFscyBcIiArIGFUb3BpY3NbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhhVG9waWNzKTtcbiAgICBcbiAgICAvL3NldCB0aW1lLCBpZiBpbnB1dCBtYWtlIHNlbnNlXG4gICAgdmFyIGFUaW1lID0gc1RpbWUuc3BsaXQoXCI6XCIsIDIpOyAvL3NwbGl0IHNUaW1lIGludG8gYXJyYXkgd2l0aCB0d28gdmFyc1xuICAgIGFUaW1lLmZvckVhY2goIGZ1bmN0aW9uKGkpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiYVRpbWUgRm9yZWFjaFwiKTtcbiAgICAgIGNvbnNvbGUubG9nKGkubGVuZ3RoKTtcbiAgICAgIGlmIChpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgY29uc29sZS5sb2coaSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCB0aW1lXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGkubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYVRpbWUuaW5kZXhPZihpKTtcbiAgICAgICAgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhpKTtcbiAgICAgICAgICBkRGF0ZS5zZXRIb3VycyhpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSAxKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coaSk7XG4gICAgICAgICAgZERhdGUuc2V0TWludXRlcyhpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGREYXRlKTtcbiAgICBcbiAgICAvL2NyZWF0ZSBvYmplY3QgdG8gcHVzaCBpbnRvIEpTT04uLlxuICAgIHZhciBqRXZlbnRPYmogPSB7XG4gICAgICBpZDogc0lkLFxuICAgICAgbmFtZTogc05hbWUsXG4gICAgICB0b3BpYzogYVRvcGljcyxcbiAgICAgIGxldmVsOiBzTGV2ZWwsXG4gICAgICBzcGVha2VyOiBzU3BlYWtlcixcbiAgICAgIHNwZWFrZXJfb3JnYW5pemF0aW9uOiBzU3BlYWtlck9yZyxcbiAgICAgIGRhdGU6IHsgZGF5OiBkRGF0ZS5nZXREYXRlKCksIG1vbnRoOiBkRGF0ZS5nZXRNb250aCgpICwgeWVhcjogZERhdGUuZ2V0RnVsbFllYXIoKSB9LFxuICAgICAgdGltZV8yNGg6IHsgaG91cjogZERhdGUuZ2V0SG91cnMoKSAsIG1pbnV0ZTogZERhdGUuZ2V0TWludXRlcygpIH0sXG4gICAgICBpbmZvOiBzSW5mbyxcbiAgICAgIHBhc3Q6IGZhbHNlXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZyhqRXZlbnRPYmopO1xuICAgIFxuICAgIC8vcHVzaCBqRXZlbnRPYmogdG8gbG9jYWxTdG9yYWdlXG4gICAgdmFyIGxvY2FsVGVtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV2ZW50cyk7XG4gICAgbG9jYWxUZW1wLnB1c2goakV2ZW50T2JqKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggXCJldmVudHNcIiAsIEpTT04uc3RyaW5naWZ5KGxvY2FsVGVtcCkgKTtcbiAgICBcbiAgICAvL2FwcGVuZCBuZXdseSBhZGRlZCBkYXRhIHRvIERPTS4uXG4gICAgJChcIiNldmVudC1saXN0aW5nXCIpLmFwcGVuZCgnPHRyIGRhdGEtZXZlbnQtaWQ9XCInICsgakV2ZW50T2JqLmlkICsgJ1wiPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGpFdmVudE9iai5uYW1lICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgakV2ZW50T2JqLnRvcGljICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgakV2ZW50T2JqLnNwZWFrZXIgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmouZGF0ZS5kYXkgKyAnICcgKyBqRXZlbnRPYmouZGF0ZS5tb250aCArICcgJyArIGpFdmVudE9iai5kYXRlLnllYXIgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmoudGltZV8yNGguaG91ciArICc6JyArIGpFdmVudE9iai50aW1lXzI0aC5taW51dGUgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgaWQ9XCJlZGl0LWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGlkPVwiZGVsZXRlLWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxcXG5cdCcpO1xuICB9KTtcblxuLy9VIGZyb20gQ1JVRCAtIG9uQ2xpY2sgLmZhLWVkaXQgLSBvcGVuIGVkaXRpbmcgaW50ZXJmYWNlXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIjZWRpdC1ldmVudC1pY29uXCIsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiLmZhLXBlbmNpbCBpY29uIGNsaWNrZWRcIik7XG4gICAgLy9nZXQgdHIgaWQgb2YgLmZhLXBlbmNpbCBwYXJlbnRcbiAgICB2YXIgc0RhdGFJZCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZGF0YShcImV2ZW50LWlkXCIpO1xuICAgIC8vZ2l2ZSBpZCBhIHZhbHVlXG4gICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmF0dHIoXCJkYXRhLWV2ZW50LWlkXCIsIHNEYXRhSWQpO1xuICAgIC8vYWNjZXNzIGxvY2FsU3RvcmFnZS5ldmVudFxuICAgIHZhciBsb2NhbFRlbXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xuICAgIC8vZmluZCB0aGUgbG9jYWxUZW1wLmlkID09IHNEYXRhSWRcbiAgICBsb2NhbFRlbXAuZm9yRWFjaCggZnVuY3Rpb24oaikge1xuICAgICAgLy9maW5kIGJ5IHVuaXF1ZSBpZFxuICAgICAgaWYgKGouaWQgPT0gc0RhdGFJZCkge1xuICAgICAgICAvL3NldCAjd2R3LWV2ZW50LXVwZGF0ZSBhdHRyIHRvIGVxdWFsIHNEYXRhSWRcbiAgICAgICAgLy9CRUdJTiBzdHJ1Z2dsZSB3aXRoIHNhdGFuJ3MgZmFydCBzdGVuY2hcbiAgICAgICAgdmFyIGREYXRlID0gai5kYXRlLnllYXIgKyBcIi1cIiArIGouZGF0ZS5tb250aCArIFwiLVwiICsgai5kYXRlLmRheTtcbiAgICAgICAgdmFyIGFEYXRlID0gZERhdGUuc3BsaXQoXCItXCIpO1xuICAgICAgICAvL2RhdGUgcHJvcGVydHkgdmFyaWFibGVzXG4gICAgICAgIHZhciBzTW9udGggPSBcIlwiO1xuICAgICAgICB2YXIgc0RheSA9IFwiXCI7XG4gICAgICAgIGlmIChhRGF0ZVsxXS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgIHZhciB0ZW1wID0gYURhdGVbMV0udG9TdHJpbmcoKTtcbiAgICAgICAgICB2YXIgemVybyA9IFwiMFwiXG4gICAgICAgICAgdmFyIHN0ciA9IHplcm8uY29uY2F0KHRlbXApO1xuICAgICAgICAgIGFEYXRlWzFdID0gc3RyO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGFEYXRlWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYURhdGVbMl0ubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICB2YXIgdGVtcCA9IGFEYXRlWzJdLnRvU3RyaW5nKCk7XG4gICAgICAgICAgdmFyIHplcm8gPSBcIjBcIlxuICAgICAgICAgIHZhciBzdHIgPSB6ZXJvLmNvbmNhdCh0ZW1wKTtcbiAgICAgICAgICBhRGF0ZVsyXSA9IHN0cjtcbiAgICAgICAgICBjb25zb2xlLmxvZyhhRGF0ZVsyXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGREYXRlID0gai5kYXRlLnllYXIgKyBcIi1cIiArIGFEYXRlWzFdICsgXCItXCIgKyBhRGF0ZVsyXTtcbiAgICAgICAgY29uc29sZS5sb2coZERhdGUpO1xuICAgICAgICAvL0VORCBzdHJ1Z2dsZSB3aXRoIHNhdGFuJ3MgZmFydCBzdGVuY2guIEdvZCBpcyBnb29kLlxuICAgICAgICBcbiAgICAgICAgLy9pbXBvcnQgYWxsIGlucHV0IHZhbHVlcyBmcm9tIGxvY2FsVGVtcCBvYmplY3QgdG8gRE9NXG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtbmFtZSddXCIpLnZhbChqLm5hbWUpO1xuICAgICAgICAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXRvcGljcyddXCIpLnZhbChqLnRvcGljKTtcbiAgICAgICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1sZXZlbCddXCIpLnZhbChqLmxldmVsKTtcbiAgICAgICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyJ11cIikudmFsKGouc3BlYWtlcik7XG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtc3BlYWtlci1vcmcnXVwiKS52YWwoai5zcGVha2VyX29yZ2FuaXphdGlvbik7XG4gICAgICAgIC8vU0VFIE5FWFQgTElORSBGT1IgV09SS0lORyBWRVJTSU9OIC0gTkFUSVZFIEpTICQoXCIjd2R3LWV2ZW50LWVkaXRcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LWRhdGUnXVwiKS52YWwoZERhdGUpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXQtZXZlbnQtZGF0ZVwiKS52YWx1ZSA9IGREYXRlO1xuICAgICAgICAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXRpbWUnXVwiKS52YWwoai50aW1lXzI0aC5ob3VyICsgXCI6XCIgKyBqLnRpbWVfMjRoLm1pbnV0ZSk7XG4gICAgICAgICQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtaW5mbyddXCIpLnZhbChqLmluZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuLy9VIGZyb20gQ1JVRCAtIG9uQ2xpY2sgI3VwZGF0ZS1ldmVudC1idG4gLSBzYXZlIGRhdGEgZnJvbSBlZGl0aW5nIGludGVyZmFjZVxuICAkKFwiI3VwZGF0ZS1ldmVudC1idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcIiN1cGRhdGUtZXZlbnQgY2xpY2tlZFwiKTtcbiAgICAvL2dldCB2YWx1ZSBvZiBhbGwgaXRlbXMuLlxuICAgIHZhciBzSWQgPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuYXR0cihcImRhdGEtZXZlbnQtaWRcIik7IC8vZ2V0IGZyb20gRE9NXG4gICAgdmFyIHNOYW1lID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1uYW1lJ11cIikudmFsKCk7XG4gICAgdmFyIHNUb3BpY3MgPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXRvcGljcyddXCIpLnZhbCgpO1xuICAgIHZhciBzTGV2ZWwgPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LWxldmVsJ11cIikudmFsKCk7XG4gICAgdmFyIHNTcGVha2VyID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyJ11cIikudmFsKCk7XG4gICAgdmFyIHNTcGVha2VyT3JnID0gJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmZpbmQoXCJpbnB1dFtuYW1lPSdldmVudC1zcGVha2VyLW9yZyddXCIpLnZhbCgpO1xuICAgIHZhciBkRGF0ZSA9IG5ldyBEYXRlKCQoXCIjd2R3LWV2ZW50LXVwZGF0ZVwiKS5maW5kKFwiaW5wdXRbbmFtZT0nZXZlbnQtZGF0ZSddXCIpLnZhbCgpKTtcbiAgICB2YXIgc1RpbWUgPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LXRpbWUnXVwiKS52YWwoKTtcbiAgICB2YXIgc0luZm8gPSAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuZmluZChcImlucHV0W25hbWU9J2V2ZW50LWluZm8nXVwiKS52YWwoKTsgLy9pbmZvXG4gICAgY29uc29sZS5sb2coYVRpbWUpO1xuICAgIFxuICAgIHZhciBhVG9waWNzID0gW107XG4gICAgLy9nZXQgZWFjaCB0b3BpYyBhbmQgc3RvcmUgaXQgaW4gYW4gYXJyYXlcbiAgICB2YXIgYVRvcGljcyA9IHNUb3BpY3Muc3BsaXQoXCIsXCIpO1xuICAgIGNvbnNvbGUubG9nKGFUb3BpY3MpO1xuICAgIFxuICAgIGZvciAoaSA9IDA7IGkgPCBhVG9waWNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYVRvcGljc1tpXS5jaGFyQXQoMCkgPT0gXCIgXCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJmaXJzdCBjaGFyOiBcIiArIGFUb3BpY3NbaV0uY2hhckF0KDApKTtcbiAgICAgICAgYVRvcGljc1tpXSA9IGFUb3BpY3NbaV0uc2xpY2UoMSwgYVRvcGljc1tpXS5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInN0ciBub3cgZXF1YWxzIFwiICsgYVRvcGljc1tpXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChhVG9waWNzW2ldLmNoYXJBdChhVG9waWNzW2ldLmxlbmd0aCAtIDEpID09IFwiIFwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibGFzdCBjaGFyOiBcIiArIGFUb3BpY3NbaV0uY2hhckF0KDApKTtcbiAgICAgICAgYVRvcGljc1tpXSA9IGFUb3BpY3NbaV0uc2xpY2UoMCwgYVRvcGljc1tpXS5sZW5ndGgtMSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RyIG5vdyBlcXVhbHMgXCIgKyBhVG9waWNzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coYVRvcGljcyk7XG4gICAgXG4gICAgLy9zZXQgdGltZSwgaWYgaW5wdXQgbWFrZSBzZW5zZVxuICAgIHZhciBhVGltZSA9IHNUaW1lLnNwbGl0KFwiOlwiLCAyKTsgLy9zcGxpdCBzVGltZSBpbnRvIGFycmF5IHdpdGggdHdvIHZhcnNcbiAgICBhVGltZS5mb3JFYWNoKCBmdW5jdGlvbihpKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImFUaW1lIEZvcmVhY2hcIik7XG4gICAgICBjb25zb2xlLmxvZyhpLmxlbmd0aCk7XG4gICAgICBpZiAoaS5sZW5ndGggPiAyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGkpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgdGltZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChpLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFUaW1lLmluZGV4T2YoaSk7XG4gICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coaSk7XG4gICAgICAgICAgZERhdGUuc2V0SG91cnMoaSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gMSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGkpO1xuICAgICAgICAgIGREYXRlLnNldE1pbnV0ZXMoaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhkRGF0ZSk7XG4gICAgXG4gICAgLy9jcmVhdGUgb2JqZWN0IHRvIHB1c2ggaW50byBKU09OLi5cbiAgICB2YXIgakV2ZW50T2JqID0ge1xuICAgICAgaWQ6IHNJZCxcbiAgICAgIG5hbWU6IHNOYW1lLFxuICAgICAgdG9waWM6IGFUb3BpY3MsXG4gICAgICBsZXZlbDogc0xldmVsLFxuICAgICAgc3BlYWtlcjogc1NwZWFrZXIsXG4gICAgICBzcGVha2VyX29yZ2FuaXphdGlvbjogc1NwZWFrZXJPcmcsXG4gICAgICBkYXRlOiB7IGRheTogZERhdGUuZ2V0RGF0ZSgpLCBtb250aDogZERhdGUuZ2V0TW9udGgoKSAsIHllYXI6IGREYXRlLmdldEZ1bGxZZWFyKCkgfSxcbiAgICAgIHRpbWVfMjRoOiB7IGhvdXI6IGREYXRlLmdldEhvdXJzKCkgLCBtaW51dGU6IGREYXRlLmdldE1pbnV0ZXMoKSB9LFxuICAgICAgaW5mbzogc0luZm8sXG4gICAgICBwYXN0OiBmYWxzZVxuICAgIH07XG4gICAgY29uc29sZS5sb2coakV2ZW50T2JqKTtcbiAgICBcbiAgICAvL3B1c2ggakV2ZW50T2JqIHRvIGxvY2FsU3RvcmFnZVxuICAgIHZhciBsb2NhbFRlbXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xuICAgIC8vZmluZCB0aGUgb2JqZWN0IGluIEpTT05cbiAgICBsb2NhbFRlbXAuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICAvL2ZpbmQgb2JqZWN0IHdpdGggbWF0Y2hpbmcgaWRcbiAgICAgIGlmIChqLmlkID09IGpFdmVudE9iai5pZCkge1xuICAgICAgICAvL3JlbW92ZSBvYmplY3Qgd2l0aCBtYXRjaGluZyBpZFxuICAgICAgICBsb2NhbFRlbXAuc3BsaWNlKCBsb2NhbFRlbXAuaW5kZXhPZihqKSwgMSApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vcHVzaCBqRXZlbnRPYmogdG8gbG9jYWxUZW1wXG4gICAgbG9jYWxUZW1wLnB1c2goakV2ZW50T2JqKTtcbiAgICAvL3Jld3JpdGUgbG9jYWxTdG9yYWdlXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIFwiZXZlbnRzXCIgLCBKU09OLnN0cmluZ2lmeShsb2NhbFRlbXApICk7XG4gICAgLy9yZW1vdmUgZGF0YSBhdHRyIGZyb20gd2luZG93XG4gICAgJChcIiN3ZHctZXZlbnQtdXBkYXRlXCIpLmF0dHIoXCJkYXRhLWV2ZW50LWlkXCIsIFwiXCIpO1xuICAgIC8vZGVsZXRlIG9sZCBET00gcmVwcmVzZW50YXRpb25cbiAgICAkKGRvY3VtZW50KS5maW5kKCdbZGF0YS1ldmVudC1pZD0nK2pFdmVudE9iai5pZCsnXScpLnJlbW92ZSgpO1xuICAgIC8vYXBwZW5kIG5ldyBET00gcmVwcmVzZW50YXRpb25cbiAgICAkKFwiI2V2ZW50LWxpc3RpbmcgdGJvZHlcIikucHJlcGVuZCgnPHRyIGRhdGEtZXZlbnQtaWQ9XCInICsgakV2ZW50T2JqLmlkICsgJ1wiPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGpFdmVudE9iai5uYW1lICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgakV2ZW50T2JqLnRvcGljICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgakV2ZW50T2JqLnNwZWFrZXIgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmouZGF0ZS5kYXkgKyAnICcgKyBqRXZlbnRPYmouZGF0ZS5tb250aCArICcgJyArIGpFdmVudE9iai5kYXRlLnllYXIgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqRXZlbnRPYmoudGltZV8yNGguaG91ciArICc6JyArIGpFdmVudE9iai50aW1lXzI0aC5taW51dGUgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgaWQ9XCJlZGl0LWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGlkPVwiZGVsZXRlLWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxcXG5cdCcpO1xuICB9KTtcblxuLy9VIGZyb20gQ1JVRCAtIG9uQ2xpY2sgI2NhbmNlbC11cGRhdGUtZXZlbnQtYnRuIC0gY2FuY2VsXG4gICQoXCIjY2FuY2VsLXVwZGF0ZS1ldmVudC1idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAvL3NldCAjd2R3LWV2ZW50LXVwZGF0ZSdzIGRhdGEtZXZlbnQtaWQgPT0gXCJcIjtcbiAgICAkKFwiI3dkdy1ldmVudC11cGRhdGVcIikuYXR0cihcImRhdGEtZXZlbnQtaWRcIiwgXCJcIik7XG4gIH0pO1xuXG4vL0QgZnJvbSBDUlVEIC0gb25DbGljayAuZmEtdHJhc2ggLSBkZWxldGUgZnJvbSBpbnRlcmZhY2UgYW5kIGxvY2Fsc3RvcmFnZVxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiI2RlbGV0ZS1ldmVudC1pY29uXCIsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiLmZhLXRyYXNoIGljb24gY2xpY2tlZFwiKTtcbiAgICAvL2dldCB0ciBpZCBvZiAuZmEtdHJhc2ggcGFyZW50XG4gICAgdmFyIHNEYXRhSWQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmRhdGEoXCJldmVudC1pZFwiKTtcbiAgICAvL2FjY2VzcyBsb2NhbFN0b3JhZ2UuZXZlbnRcbiAgICB2YXIgbG9jYWxUZW1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZXZlbnRzKTtcbiAgICAvL2ZpbmQgdGhlIGxvY2FsVGVtcC5pZCA9PSBzRGF0YUlkXG4gICAgbG9jYWxUZW1wLmZvckVhY2goIGZ1bmN0aW9uKGopIHtcbiAgICAgIGlmIChqLmlkID09IHNEYXRhSWQpIHtcbiAgICAgICAgLy9yZW1vdmUgaXRlbSBmcm9tIGxvY2FsVGVtcFxuICAgICAgICBcbiAgICAgICAgbG9jYWxUZW1wLnNwbGljZSggbG9jYWxUZW1wLmluZGV4T2YoaiksIDEgKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJJRCBcIiArIGouaWQgKyBcInNwbGljZWQgZnJvbSBsb2NhbFRlbXBcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobG9jYWxUZW1wKTtcbiAgICBsb2NhbFN0b3JhZ2UuZXZlbnRzID0gSlNPTi5zdHJpbmdpZnkobG9jYWxUZW1wKTtcbiAgICAvL2RlbGV0ZSB0ciBieSBpZFxuICAgICQoZG9jdW1lbnQpLmZpbmQoJ1tkYXRhLWV2ZW50LWlkPScrc0RhdGFJZCsnXScpLnJlbW92ZSgpO1xuICB9KTtcblxuLy9mdW5jdGlvbnNcbi8vcG9wdWxhdGUgZGF0YSB0byB0YWJsZXMgb24gcGFnZWxvYWRcbiAgZnVuY3Rpb24gaW5pdFBvcERhdGEoKSB7XG4gICAgLy9zaW5jZSBsb2NhbHN0b3JhZ2Ugd2lsbCBhbHdheXMgaGF2ZSB2YWx1ZXMsXG4gICAgLy9hcHBlbmQgYWxsIG9mIGxvY2Fsc3RvcmFnZSdzIGNvbnRlbnQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgdGFibGVcbiAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV2ZW50cyk7XG4gICAgakV2ZW50cy5mb3JFYWNoKCBmdW5jdGlvbihqKSB7XG4gICAgICAkKFwiI2V2ZW50LWxpc3RpbmcgdGJvZHlcIikuYXBwZW5kKCc8dHIgZGF0YS1ldmVudC1pZD1cIicgKyBqLmlkICsgJ1wiPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai5uYW1lICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLnRvcGljICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLnNwZWFrZXIgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGouZGF0ZS5kYXkgKyAnICcgKyBqLmRhdGUubW9udGggKyAnICcgKyBqLmRhdGUueWVhciArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai50aW1lXzI0aC5ob3VyICsgJzonICsgai50aW1lXzI0aC5taW51dGUgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGlkPVwiZWRpdC1ldmVudC1pY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGlkPVwiZGVsZXRlLWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90cj5cXFxuXHRcdFx0Jyk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vSGlkZS9TaG93IC0gV2R3XG4gIGZ1bmN0aW9uIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdyhzV2luZG93SWQpIHtcbiAgICAvLyAkKCcud2R3JykuaGlkZSgpO1xuICAgICQoJy53ZHcnKS5mYWRlT3V0KDMwMCk7IC8vZmFkZW91dCA1MDBcbiAgICAvLyAkKCcjJyArIHNXaW5kb3dJZCkuc2hvdygpO1xuICAgICQoJyMnICsgc1dpbmRvd0lkKS5mYWRlSW4oMzAwKTsgLy8gZmFkZSBpbiA1MDBcbiAgfVxuICBcbiAgXG4gIFxuICAvL1N0b3JpbmcgZXZlbnRzXG4gIHZhciBhRXZlbnRzID0gW107XG4gIFxuICBcbiAgaWYgKGxvY2FsU3RvcmFnZS5zRXZlbnRzKSB7XG4gICAgLy8gcmVhZCB0aGUgdGV4dCBmcm9tIHRoZSBsb2NhbCBzdG9yYWdlXG4gICAgLy8gY29udmVydCB0aGF0IHRleHQgaW50byBhbiBvYmplY3RcbiAgICB2YXIgc0V2ZW50c0Zyb21Mb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2Uuc0V2ZW50cztcbiAgICBhRXZlbnRzID0gSlNPTi5wYXJzZShzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSk7XG4gIH1cbiAgXG4gIFxuICBcbiAgJChmdW5jdGlvbiAoKSB7IC8vUGVyZm9ybWFuY2UgaW4gaGVyZSAtLT4gbG9hZCBhc3luYyBmaXJzdCBwcmlvcml0eVxuICAgIC8vIEZhc3RTaGVsbFxuICB9KTtcbiAgXG4gIFxuICBcbiAgXG4gIC8vQWRkcyBldmVudHMgdG8gc2VhcmNoICBzY2hlZHVsZSBjYWxlbmRhclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFFdmVudHMubGVuZ3RoOyBpKyspIHsgIC8vdGVtcGxhdGluZ1xuICAgIC8vYXBwZW5kXG4gICAgJCgnI2xibEV2ZW50cycpLmFwcGVuZChcbiAgICAgICc8dHI+JyArXG4gICAgICAnPHRoIHNjb3BlPVwicm93XCI+JysnPGg0PicrYUV2ZW50c1tpXS5pZCsnPC9oND4nKyc8L3RoPicrXG4gICAgICAnPHRkPicrJzxoND4nK2FFdmVudHNbaV0ubmFtZSsnPC9oND4nKyc8L3RkPicrXG4gICAgICAvLyc8dGQgY2xhc3M9XCJldmVudFByaWNlXCI+JytldmVudFByaWNlQ2hhbmdlKyc8L3RkPicrXG4gICAgICAnPHRkPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC90ZD4nK1xuICAgICAgJzwvdHI+Jyk7XG4gIH1cbiAgXG4gIFxuICAvL0FkZCBuZXcgRXZlbnRcbiAgJCgnI3Bvc3RidG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBcbiAgICB2YXIgc0V2ZW50SWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgc0ltYWdlVXJsID0gJCgnI2lucHV0cG9zdGltZycpLnZhbCgpO1xuICAgIHZhciBzcG9zdGV2ZW50ID0gJCgnI2lucHV0cG9zdGV2ZW50JykudmFsKCk7XG4gICAgdmFyIHNQb3N0RGVzYyA9ICQoJyNpbnB1dHBvc3RkZXNjJykudmFsKCk7XG4gICAgdmFyIHNQb3N0TG9jYXRpb24gPSAkKCcjaW5wdXRwb3N0bG9jYXRpb24nKS52YWwoKTtcbiAgICB2YXIgc0xpbmsgPSBcImxpbmtcIjtcbiAgICBcbiAgICAvL2NvbnNvbGUubG9nKHNJbWFnZVVybCArIHNwb3N0dGl0ZWwgKyBzUG9zdERlc2MgKyBzUG9zdExvY2F0aW9uKTtcbiAgICAvL0JlZm9yZSAuY2FsZW5kYXItYmFja1xuICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXG4gICAgICAnPHRyPicgK1xuICAgICAgJzx0ZD4nK3Nwb3N0ZXZlbnQrJzwvdGQ+JytcbiAgICAgICc8dGQ+JytzUG9zdExvY2F0aW9uKyc8L3RkPicrXG4gICAgICAnPHRkPicrc0V2ZW50SWQrJzwvdGQ+JytcbiAgICAgICc8dGQ+JytzTGluaysnPC90ZD4nK1xuICAgICAgJzx0ZD48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvdGQ+JytcbiAgICAgICc8L3RyPicpO1xuICAgIFxuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWNhbGVuZGFyJyk7XG4gICAgXG4gICAgXG4gICAgdmFyIGpFdmVudCA9IHt9O1xuICAgIGpFdmVudC5pZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGpFdmVudC5pbWFnZVVybCA9IHNJbWFnZVVybDtcbiAgICBqRXZlbnQucG9zdGV2ZW50ID0gc3Bvc3RldmVudDtcbiAgICBqRXZlbnQuUG9zdERlc2MgPSBzUG9zdERlc2M7XG4gICAgakV2ZW50LnNQb3N0TG9jYXRpb24gPSBzUG9zdExvY2F0aW9uO1xuICAgIGFFdmVudHMucHVzaChqRXZlbnQpO1xuICAgIC8vY29uc29sZS5sb2coYUV2ZW50cyk7XG4gICAgLy9TYXZlIHRvIExvY2FsIHN0b3JhZ2VcbiAgICB2YXIgc0ZpbmFsRXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoYUV2ZW50cyk7XG4gICAgLy91cGRhdGUgdGhlIHNFdmVudHMgdG8gbG9jYWwgdGV4dFxuICAgIGxvY2FsU3RvcmFnZS5zRXZlbnRzID0gc0ZpbmFsRXZlbnRzO1xuICAgIFxuICAgIFxuICAgIC8vUmVhZCBmcm9tIGxvY2Fsc3RvcmFnZSBhbmQgdXBkYXRlIG9uIGxvYWQgdGhlIHNlYXJjaCBjYWxlbmRhciB3aXRobyBiYmplY3RzXG4gIH0pO1xuICBcbiAgXG4gICQoJyNsYmxFdmVudHMgZGl2JykuZWFjaChmdW5jdGlvbiggaW5kZXggKSB7XG4gICAgY29uc29sZS5sb2coIGluZGV4ICsgJzogJyArICQodGhpcykudGV4dCgpKTtcbiAgICAkKHRoaXMpLmNzcztcbiAgfSk7XG4gIFxuICBcbiAgXG4gIFxuICBcbiAgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvL0Z1bmN0aW9uc1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG4gIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9vbiBsb2FkXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ldmVudHMnKTtcbiAgfSk7XG4gIFxuICBcbiAgZnVuY3Rpb24gaXNMb2dnZWRJbigpIHtcbiAgICAvL2lmKGxvY2FsU3RvcmFnZS51c2VyQ3JlZHMpe1xuICAgICQoJyNsaW5rUmVnaXN0ZXInKS5mYWRlT3V0KDUwMCk7XG4gICAgJCgnI2xpbmtMb2dpbicpLmZhZGVPdXQoNTAwKTtcbiAgICAkKCcjbGlua0xvZ291dCcpLmZhZGVJbig1MDApO1xuICAgIC8vfVxuICB9XG5cbi8vZnVuYyBsb2dvdXRcbiAgXG4gIFxuICAvKlxuICAgLy9EZWZpbmUgYXJyYXkgb2YgZXZlbnRzIHRvIGxvb3AgdGhyb3VnaCAtPiBhcHBlbmQgdG8gdGhlIHRhYmxlXG4gICBmdW5jdGlvbiBzZWFyY2hFdmVudHMoKSB7XG4gICAvLyBEZWNsYXJlIHZhcmlhYmxlc1xuICAgdmFyIGlucHV0LCBmaWx0ZXIsIHRhYmxlLCB0ciwgdGQsIGk7XG4gICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3BpYy1zZWFyY2gnKTtcbiAgIGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gICB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteVRhYmxlJyk7XG4gICB0ciA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0cicpO1xuICAgXG4gICAvLyBMb29wIHRocm91Z2ggYWxsIHRhYmxlIHJvd3MsIGFuZCBoaWRlIHRob3NlIHdobyBkb24ndCBtYXRjaCB0aGUgc2VhcmNoIHF1ZXJ5XG4gICBmb3IgKGkgPSAwOyBpIDwgdHIubGVuZ3RoOyBpKyspIHtcbiAgIFxuICAgdGQgPSB0cltpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKVswXTtcbiAgIGlmICh0ZCkge1xuICAgaWYgKHRkLmlubmVySFRNTC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7XG4gICB0cltpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICB9IGVsc2Uge1xuICAgdHJbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgIH1cbiAgIH1cbiAgIH1cbiAgIH1cbiAgIFxuICAgXG4gICAvL1NlYXJjaCBUaHJvdWdoIFRhYmxlIC0+XG4gICAkKCcjbXlJbnB1dCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgc2VhcmNoRXZlbnRzKCk7XG4gICB9KTtcbiAgICovXG4gIFxuICAvKlxuICAgZnVuY3Rpb24gY3JlYXRlUG9zdCgpIHsgLy9UYWtlcyBvYmplY3QgIFBvc3RcbiAgIC8qXG4gICAkKCcjd2R3LWFsbC1ldmVudHMnKS5lbXB0eSgpO1xuICAgdmFyIHNQb3N0VGVtcGxhdGUgPVxuICAgJzxkaXYgY2xhc3M9XCJncmlkX2pvYlwiPjxmaWd1cmUgY2xhc3M9XCJlZmZlY3QtbWlsb1wiIGlkPVwiZmlndXJlMVwiPlxcXG4gICA8aW1nIGNsYXNzPVwiZmVhdHVyZWQtY29tcGFueV9faW1hZ2VcIiBzcmM9XCIke1Bvc3QuaW1nfVwiIGFsdD1cIlwiPjxmaWdjYXB0aW9uPlxcXG4gICA8aDI+JHtQb3N0LnRpdGxlfSA8c3Bhbj4gJHtQb3N0LmxvY2F0aW9ufSA8L3NwYW4+XFxcbiAgIDwvaDI+PHA+JHtkZXNjfTwvcD48YSBocmVmPVwiI1wiPlZpZXcgbW9yZTwvYT48L2ZpZ2NhcHRpb24+PC9maWd1cmU+PC9kaXY+XFxcbiAgICc7XG4gICBcbiAgICQoJyN3ZC1hbGwtZXZlbnRzJykuYXBwZW5kKHNQb3N0VGVtcGxhdGUpO1xuICAgXG4gICBcbiAgIH1cbiAgICovXG4gIFxuICBcbiAgZnVuY3Rpb24gZ2V0UG9zdCgpIHtcbiAgICB2YXIgc0ltYWdlVXJsID0gJCgnI2lucHV0cG9zdGltZycpLnZhbCgpO1xuICAgIHZhciBzcG9zdHRpdGVsID0gJCgnI2lucHV0cG9zdHRpdGVsJykudmFsKCk7XG4gICAgdmFyIHNQb3N0RGVzYyA9ICQoJyNpbnB1dHBvc3RkZXNjJykudmFsKCk7XG4gICAgdmFyIHNQb3N0TG9jYXRpb24gPSAkKCcjaW5wdXRwb3N0bG9jYXRpb24nKS52YWwoKTtcbiAgICBcbiAgICAvL2NvbnNvbGUubG9nKHNJbWFnZVVybCArIHNwb3N0dGl0ZWwgKyBzUG9zdERlc2MgKyBzUG9zdExvY2F0aW9uKTtcbiAgICBcbiAgICB2YXIgUG9zdCA9IHtcbiAgICAgICdwb3N0aW1hZ2V1cmwnOnNJbWFnZVVybCxcbiAgICAgICdwb3N0dGl0ZWwnOiBzcG9zdHRpdGVsLFxuICAgICAgJ3Bvc3RkZXNjJzogc1Bvc3REZXNjLFxuICAgICAgJ3Bvc3Rsb2MnOiBzUG9zdExvY2F0aW9uXG4gICAgfTtcbiAgICBcbiAgICAvL0RpdiBhcHBlbmRcbiAgICBjb25zb2xlLmxvZyhQb3N0KTtcbiAgICBcbiAgICBcbiAgICAvL0NvbnZlcnRzIHRvIG9iamVjdHNcbiAgfVxuICBcbiAgXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGxvZ2luQWRtaW4oKTtcbiAgfSk7XG4gIFxuICBmdW5jdGlvbiBsb2dpbkFkbWluKCkge1xuICAgIHZhciB1c2VyQ3JlZHNBZG1pbiA9IHtcbiAgICAgICd1c2VybmFtZSc6ICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnOiAncGFzc3dvcmQnXG4gICAgfTtcbiAgICBcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHMnLCBKU09OLnN0cmluZ2lmeSh1c2VyQ3JlZHNBZG1pbikpO1xuICB9XG4gIFxuICBcbiAgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvL0xvZ2luIG9uIHBhZ2VcbiAgLy9BdXRoZW50aWNhdGlvbiBpcyBtaXNzaW5nIC0gYWRtaW4gLSBtZW1iZXJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICQoJyNsb2dpbmJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjcmVkZW50aWFscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzJykpO1xuICAgIHZhciBjcmVkZW50aWFsc01lbWJlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzTWVtYmVyJykpO1xuICAgIFxuICAgIHZhciB1c2VybmFtZUlucHV0ID0gJCgnI2lucHV0dXNlcm5hbWUnKS52YWwoKTtcbiAgICB2YXIgcGFzc3dvcmQgID0gJCgnI2lucHV0cGFzc3dvcmQnKS52YWwoKTtcbiAgICAvL2NvbnNvbGUubG9nKHVzZXJuYW1lSW5wdXQgKyBwYXNzd29yZCk7XG4gICAgXG4gICAgaWYoY3JlZGVudGlhbHMudXNlcm5hbWUgPT09IHVzZXJuYW1lSW5wdXQgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQgPT09IHBhc3N3b3JkIHx8IGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lID09PSB1c2VybmFtZUlucHV0ICYmIGNyZWRlbnRpYWxzTWVtYmVyLnBhc3N3b3JkID09PSBwYXNzd29yZCApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdXZWxjb21lIE1yLiAgICcgKyBjcmVkZW50aWFscy51c2VybmFtZSk7XG4gICAgICAvLyBsb2NhbFN0b3JhZ2UubG9nZ2VkSW5Vc2VyID0gSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpO1xuICAgICAgaXNMb2dnZWRJbigpO1xuICAgICAgJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIEFkbWluICcgKyAnIyAnICsgY3JlZGVudGlhbHMudXNlcm5hbWUpO1xuICAgICAgXG4gICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1yZWdpc3Rlci1tZW1iZXInKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coY3JlZGVudGlhbHNNZW1iZXIudXNlcm5hbWUgKyBjcmVkZW50aWFsc01lbWJlci5wYXNzd29yZCk7XG4gICAgICAvLyAkKCcuYnJhbmQgaDEnKS50ZXh0KCdMb2dnZWQgaW4gYXMgTWVtYmVyJyArICcgIyAnICsgY3JlZGVudGlhbHNNZW1iZXIudXNlcm5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnZmFpbGVkIGxvZ2luJyk7XG4gICAgfVxuICAgIFxuICAgIFxuICB9KTtcbiAgXG4gIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9SZWdpc3RlciB1c2VyIG9uIHBhZ2VcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICQoJyNtZW1iZXJidG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBcbiAgICB2YXIgaW5wdXRmbmFtZSA9ICQoJyNpbnB1dGZuYW1lcmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0bG5hbWUgPSAkKCcjaW5wdXRsbmFtZXJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dGVtYWlsID0gJCgnI2lucHV0ZW1haWxyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRsb2NhdGlvbiA9ICQoJyNpbnB1dGxvY2F0aW9ucmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0dXNlcm5hbWUgPSAkKCcjaW5wdXR1c2VybmFtZXJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dHBhc3MgPSAkKCcjaW5wdXRwYXNzd29yZHJlZycpLnZhbCgpO1xuICAgIFxuICAgIC8vY29uc29sZS5sb2coJ05ldyBSZWdpc3RlcmQgdXNlciA9ICAnICsgaW5wdXR1c2VybmFtZSk7XG4gICAgXG4gICAgdmFyIHVzZXJDcmVkcyA9IHtcbiAgICAgIFwiZm5hbWVcIiA6IGlucHV0Zm5hbWUsXG4gICAgICBcImxuYW1lXCI6IGlucHV0bG5hbWUsXG4gICAgICBcImVtYWlsXCI6aW5wdXRlbWFpbCxcbiAgICAgIFwibG9jYXRpb25cIjppbnB1dGxvY2F0aW9uLFxuICAgICAgXCJ1c2VybmFtZVwiOiBpbnB1dHVzZXJuYW1lLFxuICAgICAgXCJwYXNzd29yZFwiOiBpbnB1dHBhc3MsXG4gICAgICBcbiAgICB9O1xuICAgIFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcmVkZW50aWFsc01lbWJlcicsIEpTT04uc3RyaW5naWZ5KHVzZXJDcmVkcykpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdMb2NhbCBTdG9yYWdlIHN0b3JlJywgdXNlckNyZWRzKTtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1sb2dpbicpO1xuICAgIFxuICB9KTtcbiAgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvL01hbmFnZSBQYXJ0bmVyc1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG4gIFxuICBcbiAgLy9TYXZlIFBhcnRuZXJzIGZyb20gSlNPTiBmaWxlIGlmIHRoZXkgZG9uJ3QgZXhpc3QgaW50byBsb2NhbCBzdG9yYWdlIGFuZCBkaXNwbGF5IHRoZW1cbiAgLy8gbGlzdCBwYXJ0bmVycyBmcm9tIGxvY2FsIHN0b3JhZ2UgaW4gdGhlIHRhYmxlXG4gIGZ1bmN0aW9uIGxpc3RQYXJ0bmVyc0Zyb21MUygpe1xuICAgIC8vZ2V0IHBhcnRuZXJzIGZvcm0gbG9jYWwgc3RvcmFnZVxuICAgIHZhciBmaW5hbFBhcnRuZXJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UucGFydG5lcnMpO1xuICAgIC8vY2xlYXIgdGhlIHRhYmxlIGNvbnRlbnRcbiAgICAkKCcjcGFydG5lcnMtdGFibGUgdGJvZHknKS5odG1sKFwiXCIpO1xuICAgIC8vYXBwZW5kIGVhY2ggcGFydG5lciBpbiB0aGUgdGFibGVcbiAgICBmaW5hbFBhcnRuZXJzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICQoJyNwYXJ0bmVycy10YWJsZSB0Ym9keScpLmFwcGVuZChcbiAgICAgICAgXCI8dHI+XFxcbiAgICAgICAgPHRkPlwiICsgaXRlbS5pZCArIFwiPC90ZD5cXFxuICAgICAgICA8dGQ+XCIgKyBpdGVtLm5hbWUgKyBcIjwvdGQ+XFxcbiAgICAgICAgPHRkPlwiICsgaXRlbS50eXBlICsgXCI8L3RkPlxcXG4gICAgICAgIDx0ZD5cIiArIGl0ZW0uZGVzY3JpcHRpb24gKyBcIjwvdGQ+XFxcbiAgICAgICAgPHRkPlwiICsgaXRlbS5wYXJ0bmVycGljX3NyYyArIFwiPC90ZD5cXFxuICAgICAgICA8dGQ+PGkgY2xhc3M9J2ZhIGZhLXBlbmNpbCcgaWQ9J2VkaXQtcGFydG5lci1idG4nIGRhdGEtcGFydG5lci1pZCA9ICdcIisgaXRlbS5pZCArXCInPjwvaT5cXFxuICAgICAgICA8aSBjbGFzcz0nZmEgZmEtdHJhc2gnIGlkPSdkZWxldGUtcGFydG5lci1idG4nIGRhdGEtcGFydG5lci1pZCA9ICdcIiArIGl0ZW0uaWQgKyBcIic+PC9pPjwvdGQ+XFxcbiAgICAgICAgPC90cj5cIik7XG4gICAgfSk7XG4gICAgXG4gIH1cbiAgXG4gIFxuICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkge1xuICAgICQoJyN3ZHctZWRpdC1wYXJ0bmVyJykuaGlkZSgpO1xuICAgICQoJyN3ZHctYWRkLXBhcnRuZXInKS5oaWRlKCk7XG4gICAgJCgnI3BhcnRuZXJzLXRhYmxlIHRib2R5JykuaHRtbChcIlwiKTtcbiAgICAvLyBvYmplY3QgZm9yIHBhcnRuZXJzIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIHZhciBvUGFydG5lcnMgPSBbXTtcbiAgICAvL2dldHRpbmcgdGhlIHBhcnRuZXJzIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYXJ0bmVycycpICE9PSBudWxsICkge1xuICAgICAgb1BhcnRuZXJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UucGFydG5lcnMpO1xuICAgICAgY29uc29sZS5sb2coXCJsb2NhbCBzdG9yYWdlOiBcIiwgb1BhcnRuZXJzKTtcbiAgICB9XG4gICAgJC5nZXRKU09OKFwiYXNzZXRzL2RhdGEvcGFydG5lcnMuanNvblwiLCBmdW5jdGlvbiAoanNvbl9kYXRhKSB7XG4gICAgICBcbiAgICAgIC8vaWYgbG9jYWwgc3RvcmFnZSBpcyBlbXB0eSBsb2FkIHBhcnRuZXJzIGZyb20gZmlsZVxuICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwYXJ0bmVyc1wiKSA9PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGFydG5lcnNcIikgPT0gXCJbXVwiKXtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnBhcnRuZXJzID0gSlNPTi5zdHJpbmdpZnkoanNvbl9kYXRhKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy9pdGVyYXRpbmcgb3ZlciBvYmplY3RzIGZyb20ganNvbiBmaWxlIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXNcbiAgICAgIGpzb25fZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIFxuICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgIFxuICAgICAgICBvYmouaWQgPSBlbGVtLmlkO1xuICAgICAgICBvYmoubmFtZSA9IGVsZW0ubmFtZTtcbiAgICAgICAgb2JqLmRlc2NyaXB0aW9uID0gZWxlbS5kZXNjcmlwdGlvbjtcbiAgICAgICAgb2JqLnBhcnRuZXJwaWNfc3JjID0gZWxlbS5wYXJ0bmVycGljX3NyYztcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCBcIlBhcnRuZXIgaWQuXCIsIG9iai5pZCwgXCIsIG5hbWU6IFwiLCBvYmoubmFtZSwgXCIsIGRlc2NyaXB0aW9uOiBcIiwgb2JqLmRlc2NyaXB0aW9uLCBcIiwgcGljdHVyZS9sb2dvOiBcIiwgb2JqLnBhcnRuZXJwaWNfc3JjKTtcbiAgICAgICAgXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbGlzdFBhcnRuZXJzRnJvbUxTKCk7XG4gICAgICBcbiAgICB9KTtcbiAgfSk7XG4gIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9FZGl0IFBhcnRuZXJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFxuICB2YXIgaWQ7XG4gIC8vbGlzdGVuZXIgdG8gZGlzcGxheSB0aGUgZWRpdCBjb250YWluZXIgYW5kIGZpbGwgaW5wdXQgZmllbGRzIHdpdGggdGhlIGNsaWNrZWQgcGFydG5lclxuICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIFwiI2VkaXQtcGFydG5lci1idG5cIiwgZnVuY3Rpb24oKXtcbiAgICBpZCA9ICQodGhpcykuZGF0YSgncGFydG5lci1pZCcpO1xuICAgIC8vaGlkZSBwYXJ0bmVycyBsaXN0IGFuZCBzaG93IGVkaXQgcGFydG5lciBjb250YWluZXJcbiAgICAkKFwiI3dkdy1saXN0LXBhcnRuZXJzXCIpLmhpZGUoKTtcbiAgICAkKFwiI3dkdy1lZGl0LXBhcnRuZXJcIikuc2hvdygpO1xuICAgIFxuICAgIHZhciBvUGFydG5lcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5wYXJ0bmVycyk7XG4gICAgXG4gICAgb1BhcnRuZXJzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIFxuICAgICAgaWYoZWxlbS5pZCA9PSBpZCl7XG4gICAgICAgIC8vc2V0dGluZyB0aGUgaW5wdXQgZmllbGRzIHRvIGJlIGVkaXRlZFxuICAgICAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1uYW1lJ11cIikudmFsKGVsZW0ubmFtZSk7XG4gICAgICAgICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLXR5cGUnXVwiKS52YWwoZWxlbS50eXBlKTtcbiAgICAgICAgJChcImlucHV0W25hbWU9J3BhcnRuZXItZGVzY3InXVwiKS52YWwoZWxlbS5kZXNjcmlwdGlvbik7XG4gICAgICAgICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLXBpY3QnXVwiKS52YWwoZWxlbS5wYXJ0bmVycGljX3NyYyk7XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXG4gICAgfSk7XG4gIH0pO1xuICBcbiAgLy9zYXZpbmcgdGhlIGVkaXRlZCBwYXJ0bmVyXG4gICQoJyNwYXJ0bmVyLXNhdmUtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIHZhciBvYmogPSB7fTtcbiAgICBcbiAgICBvYmouaWQgPSBpZDtcbiAgICBvYmoubmFtZSA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLW5hbWUnXVwiKS52YWwoKVxuICAgIG9iai50eXBlID0gJChcImlucHV0W25hbWU9J3BhcnRuZXItdHlwZSddXCIpLnZhbCgpO1xuICAgIG9iai5kZXNjcmlwdGlvbiA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWRlc2NyJ11cIikudmFsKCk7XG4gICAgb2JqLnBhcnRuZXJwaWNfc3JjID0gJChcImlucHV0W25hbWU9J3BhcnRuZXItcGljdCddXCIpLnZhbCgpO1xuICAgIFxuICAgIFxuICAgIHZhciBvUGFydG5lcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5wYXJ0bmVycyk7XG4gICAgXG4gICAgb1BhcnRuZXJzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0sIGluZGV4KSB7XG4gICAgICBpZihlbGVtLmlkID09IGlkKXtcbiAgICAgICAgLy9yZXBsYWNpbmcgb25seSBmb3IgdGhlIGZvdW5kIGlkXG4gICAgICAgIG9QYXJ0bmVyc1tpbmRleF0gPSBvYmo7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy9zZXR0aW5nIHRoZSB2YWx1ZSB1cGRhdGVkIGluIGxvY2FsU3RvcmFnZVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGFydG5lcnNcIiwgSlNPTi5zdHJpbmdpZnkob1BhcnRuZXJzKSk7XG4gICAgLy9kaXNwbGF5IHRoZSBwYXJ0bmVycyBsaXN0IGluc3RlYWQgZWRpdCBwYXJ0bmVyXG4gICAgJChcIiN3ZHctZWRpdC1wYXJ0bmVyXCIpLmhpZGUoKTtcbiAgICBsaXN0UGFydG5lcnNGcm9tTFMoKTtcbiAgICAkKFwiI3dkdy1saXN0LXBhcnRuZXJzXCIpLnNob3coKTtcbiAgfSk7XG4gIFxuICAkKCcjY2FuY2VsLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiI3dkdy1lZGl0LXBhcnRuZXJcIikuaGlkZSgpO1xuICAgICQoXCIjd2R3LWxpc3QtcGFydG5lcnNcIikuc2hvdygpO1xuICB9KTtcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vQWRkIFBhcnRuZXJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFxuICAkKCcjYWRkLXBhcnRuZXItYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoXCIjd2R3LWxpc3QtcGFydG5lcnNcIikuaGlkZSgpO1xuICAgICQoXCIjd2R3LWFkZC1wYXJ0bmVyXCIpLnNob3coKTtcbiAgfSk7XG4gIFxuICAkKCcjcGFydG5lci1hZGQtbm93LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICB2YXIgb2JqID0ge307XG4gICAgXG4gICAgLyogb2JqLmlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7Ki9cbiAgICBvYmoubmFtZSA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWFkZC1uYW1lJ11cIikudmFsKClcbiAgICBvYmoudHlwZSA9ICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWFkZC10eXBlJ11cIikudmFsKCk7XG4gICAgb2JqLmRlc2NyaXB0aW9uID0gJChcImlucHV0W25hbWU9J3BhcnRuZXItYWRkLWRlc2NyJ11cIikudmFsKCk7XG4gICAgb2JqLnBhcnRuZXJwaWNfc3JjID0gJChcImlucHV0W25hbWU9J3BhcnRuZXItYWRkLXBpY3QnXVwiKS52YWwoKTtcbiAgICBcbiAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtbmFtZSddXCIpLnZhbChcIlwiKVxuICAgICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWFkZC10eXBlJ11cIikudmFsKFwiXCIpO1xuICAgICQoXCJpbnB1dFtuYW1lPSdwYXJ0bmVyLWFkZC1kZXNjciddXCIpLnZhbChcIlwiKTtcbiAgICAkKFwiaW5wdXRbbmFtZT0ncGFydG5lci1hZGQtcGljdCddXCIpLnZhbChcIlwiKTtcbiAgICBcbiAgICAvL3NhdmUgbmV3IHBhcnRuZXIgaW4gbG9jYWwgc3RvcmFnZVxuICAgIHZhciBvUGFydG5lcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5wYXJ0bmVycyk7XG4gICAgb2JqLmlkID0gb1BhcnRuZXJzLmxlbmd0aCArIDE7XG4gICAgb1BhcnRuZXJzLnB1c2gob2JqKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFydG5lcnMnLCBKU09OLnN0cmluZ2lmeShvUGFydG5lcnMpKTtcbiAgICBsaXN0UGFydG5lcnNGcm9tTFMoKTtcbiAgICAkKFwiI3dkdy1hZGQtcGFydG5lclwiKS5oaWRlKCk7XG4gICAgJChcIiN3ZHctbGlzdC1wYXJ0bmVyc1wiKS5zaG93KCk7XG4gIH0pO1xuICBcbiAgJCgnI2NhbmNlbC1idG4yJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoXCIjd2R3LWFkZC1wYXJ0bmVyXCIpLmhpZGUoKTtcbiAgICAkKFwiI3dkdy1saXN0LXBhcnRuZXJzXCIpLnNob3coKTtcbiAgfSlcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vRGVsZXRlIFBhcnRuZXJzXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvL2xpc3RlbmVyIHRvIGRlbGV0ZSBvbmUgcGFydG5lclxuICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsXCIjZGVsZXRlLXBhcnRuZXItYnRuXCIsZnVuY3Rpb24oKXtcbiAgICBpZCA9ICQodGhpcykuZGF0YSgncGFydG5lci1pZCcpO1xuICAgIC8vZ2V0IHRoZSBwYXJ0bmVycyBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICB2YXIgb1BhcnRuZXJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UucGFydG5lcnMpO1xuICAgIC8vaXRlcmF0ZSB0aHJvdWdoIHBhcnRuZXJzIG9iamVjdCBhbmQgZGVsZXRlIHRoZSBvbmUgd2l0aCBhIHNwZWNpZmljIGlkXG4gICAgb1BhcnRuZXJzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0sIGluZGV4KSB7XG4gICAgICBcbiAgICAgIC8vcmVtb3ZlIHRoZSBwYXJ0bmVyIHdpdGggdGhlIGlkIGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgaWQgb2YgdGhlIG9uZSBjbGlja2VkXG4gICAgICBpZihlbGVtLmlkID09IGlkKXtcbiAgICAgICAgLy9zd2VldCBhbGVydCBmb3IgY29uZmlybWF0aW9uXG4gICAgICAgIHN3YWwoe1xuICAgICAgICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuICAgICAgICAgICAgdGV4dDogXCJEbyB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwYXJ0bmVyIVwiLFxuICAgICAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgZGVsZXRlIGl0IVwiLFxuICAgICAgICAgICAgY2xvc2VPbkNvbmZpcm06IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgb1BhcnRuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBhcnRuZXJzXCIsIEpTT04uc3RyaW5naWZ5KG9QYXJ0bmVycykpO1xuICAgICAgICAgICAgbGlzdFBhcnRuZXJzRnJvbUxTKCk7XG4gICAgICAgICAgICBzd2FsKFwiRGVsZXRlZCFcIiwgXCJUaGUgcGFydG5lciBoYXMgYmVlbiBkZWxldGVkLlwiLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICB9KTtcbiAgICBcbiAgICBcbiAgfSk7XG4gIFxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8vSG9tZSBwYWdlIFNlYXJjaCBcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBjb21wYXJlKGlucHV0VmFsLCBkYXRhVmFsLCBqT2JqLCBqRGF0YSkge1xuICB2YXIgaW5wdXRWYWxMb3dlciA9IGlucHV0VmFsLnRvTG93ZXJDYXNlKCk7XG4gIHZhciBkYXRhVmFsTG93ZXIgPSBkYXRhVmFsLnRvTG93ZXJDYXNlKCk7XG5cbiAgY29uc29sZS5sb2coXCJUaGUgaW5wdXQgdmFsdWUgaXM6IFwiICsgaW5wdXRWYWxMb3dlcik7XG4gIGNvbnNvbGUubG9nKFwiVGhlIEpTT04gZGF0YSB0byBjb21wYXJlIGlzOiBcIiArIGRhdGFWYWxMb3dlcik7XG5cbiAgdmFyIGJvb2wgPSBkYXRhVmFsTG93ZXIuaW5jbHVkZXMoaW5wdXRWYWxMb3dlcik7XG4gIGNvbnNvbGUubG9nKFwiVGhlIGJvb2wgPSBcIiArIGJvb2wpO1xuXG4gICAgaWYgKGJvb2wgPT0gdHJ1ZSkge1xuICAgICAgY29uc29sZS5sb2coXCJNYXRjaCBtYWRlXCIpO1xuICAgICAgakRhdGEucHVzaChqT2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJGYWxzZVwiKTtcbiAgICB9XG59XG5cbi8vb24gaW5pdGlhbGl6YXRpb24sIGxvYWQgZnJvbSBsb2NhbFN0b3JhZ2UuZXZlbnRzXG5cblxuIC8vI3NlYXJjaEV2ZW50cyBvbiBDbGljayAtLT4gU2VhcmNoIHRocm91Z2ggbG9jYWxTdG9yYWdlLmV2ZW50c1xuIC8vb3V0cHV0IHJlc3VsdHMgaW4gdGhlIERPTVxuICAkKCcjc2VhcmNoRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy9nZXQgaW5wdXQgdmFsdWUgb2YgI3NlYXJjaC1lbmdpbmVcbiAgICAgIHZhciBpbnB1dFNlYXJjaEZpZWxkID0gICQoJyNzZWFyY2gtZW5naW5lJykudmFsKCk7XG4gICAgICB2YXIgYUlucHV0ID0gaW5wdXRTZWFyY2hGaWVsZC5zcGxpdChcIiBcIik7XG4gICAgICB2YXIgalJlc3VsdHMgPSBbXTtcblxuICAgICAgY29uc29sZS5sb2coYUlucHV0KTtcbiAgICAgIFxuICAgICAgLy9nZXQgaW5zdGFuY2Ugb2YgbG9jYWxTdG9yYWdlXG4gICAgICB2YXIgalRlbXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xuICAgICAgXG4gICAgICAvL2NoZWNrIGVhY2ggYUlucHV0IGZvciBhIG1hdGNoXG4gICAgICBhSW5wdXQuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cbiAgICAgICAgdmFyIHRlbXAgPSBhO1xuXG4gICAgICAgIGpUZW1wLmZvckVhY2goZnVuY3Rpb24oail7XG5cbiAgICAgICAgICB2YXIgbmFtZSA9IGoubmFtZTtcbiAgICAgICAgICB2YXIgdG9waWMgPSBqLnRvcGljO1xuICAgICAgICAgIHZhciBsZXZlbCA9IGoubGV2ZWw7XG4gICAgICAgICAgdmFyIG9yZyA9IGouc3BlYWtlcl9vcmdhbml6YXRpb247XG4gICAgICAgICAgdmFyIGxvY2F0aW9uID0gai5sb2NhdGlvbjtcblxuICAgICAgICAgIGNvbXBhcmUodGVtcCwgbmFtZSwgaiwgalJlc3VsdHMpO1xuICAgICAgICAgIC8vY29tcGFyZSh0ZW1wLCB0b3BpYywgaiwgalJlc3VsdHMpOyAvL3RoaXMgaXMgYW4gYXJyYXlcbiAgICAgICAgICBjb21wYXJlKHRlbXAsIGxldmVsLCBqLCBqUmVzdWx0cyk7XG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBvcmcsIGosIGpSZXN1bHRzKTtcbiAgICAgICAgICAvL2NvbXBhcmUodGVtcCwgbG9jYXRpb24sIGosIGpSZXN1bHRzKTsgLy90aGlzIGlzIGEgSlNPTiBvYmplY3RcblxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvL3JlbW92ZSBkdXBsaWNhdGVzXG4gICAgICBjb25zb2xlLmxvZyhqUmVzdWx0cyk7XG5cbiAgICAgIHZhciBqUmVzdWx0c0ZpbmFsID0galJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uKGVsZW0sIGluZGV4LCBzZWxmKSB7XG4gICAgICByZXR1cm4gaW5kZXggPT0gc2VsZi5pbmRleE9mKGVsZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGpSZXN1bHRzRmluYWwpO1xuXG4gICAgICAvL2NsZWFyIGRlZmF1bHQgaXRlbXMgZnJvbSBcbiAgICAgICQoXCIjZXZlbnQtbGlzdGluZ1wiKS5lbXB0eSgpO1xuXG4gICAgICB2YXIgYmFzZU51bWJlciA9IGpSZXN1bHRzRmluYWwubGVuZ3RoIC8gMztcbiAgICAgIGNvbnNvbGUubG9nKFwiVGhlIGJhc2UgbnVtYmVyIGlzOiBcIiArIGJhc2VOdW1iZXIpO1xuXG4gICAgICAvL2FwcGVuZCB0byBET01cbiAgICAgIGpSZXN1bHRzRmluYWwuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICAgIHZhciBhVG9waWNzID0gai50b3BpYztcblxuICAgICAgICBjb25zb2xlLmxvZyhqUmVzdWx0c0ZpbmFsLmxlbmd0aCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGoubmFtZSk7XG5cbiAgICAgICAgLy9nZXQgYW4gaW5zdGFuY2Ugb2YgYW4gZXZlbnQgYW5kIGFwcGVuZCBpdCB0byB0aGUgRE9NLi5cbiAgICAgICAgJChcIiNldmVudC1saXN0aW5nXCIpLmFwcGVuZCgnXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJldmVudC10aGlyZHNcIiBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcbiAgICAgICAgICAgICAgPGRpdj5cXFxuICAgICAgICAgICAgICAgIDxoMT4nICsgai5uYW1lICsgJzwvaDE+XFxcbiAgICAgICAgICAgICAgICA8aDI+JyArIGFUb3BpY3MgKyAnPC9oMj5cXFxuICAgICAgICAgICAgICAgIDxoNT4nICsgai5kYXRlLmRheSArICctJyArIGouZGF0ZS5tb250aCArICctJyArIGouZGF0ZS55ZWFyICsgJzwvaDU+XFxcbiAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgJyk7XG5cblxuICAgICAgfSk7XG4gIH0pOyBcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9FdmVudCBMaXN0ZW5lcnNcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFxuICBcbiAgLy9Qb3N0XG4gICQoJyNwb3N0YnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgZ2V0UG9zdCgpO1xuICAgIGNvbnNvbGUubG9nKCdwb3N0IGV2ZW50Jyk7XG4gIH0pO1xuXG4vL05hdiAtIExvZ2luXG4gICQoJyNsaW5rLWxvZ2luJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbG9naW4nKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gbG9naW4gY2xpY2tlZCcpO1xuICB9KTtcblxuLy9OYXYgLSBIb21lXG4gICQoJyNsaW5rLWhvbWUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ldmVudHMnKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gSG9tZSBDbGlja2VkICcpO1xuICB9KTtcblxuXG4vL05hdiAtIEV2ZW50XG4gICQoJyNsaW5rLWV2ZW50cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWV2ZW50LW1hbmFnZXItY29udGFpbmVyJyk7XG4gIH0pO1xuXG5cbi8vTmF2IC0gTmV3c1xuICAkKCcjbGlua05ld3MnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1uZXdzJyk7XG4gIH0pO1xuXG5cbi8vTmF2IC0gUGFydG5lcnNcbiAgJCgnI2xpbmstcGFydG5lcnMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3BhcnRuZXJzLWNvbnRhaW5lcicpO1xuICB9KTtcblxuLy9OYXYgLSBDYWxlbmRhclxuICAkKCcjbGlua0NhbGVuZGFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctY2FsZW5kYXInKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gQ2FsZW5kYXIgY2xpY2tlZCcpO1xuICB9KTtcblxuLy9OYXYgLSBBbGwgRXZlbnRzXG4gICQoJyNsaW5rQWxsRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctYWxsLWV2ZW50cycpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBhbGwgZXZlbnRzIGNsaWNrJyk7XG4gIH0pO1xuXG5cbi8vUGFnZSAtIFBvc3QgYW4gZXZlbnRcbiAgJCgnI2J0bnBvc3RldmVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LXBvc3QtZXZlbnQnKTtcbiAgICBjb25zb2xlLmxvZygnUG9zdGNsaWNrZScpO1xuICB9KTtcblxuLy9SZW1vdmUgRXZlbnRcbiAgYUV2ZW50cy5pbmRleE9mKHRoaXMpO1xuICBcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ1RyYXNoZWQgY2xpY2tlZCcsIGFFdmVudHMsIGFFdmVudHNbaV0sIGFFdmVudHMubGVuZ3RoKTtcbiAgICBhRXZlbnRzLnNwbGljZSgxLDEpO1xuICB9KTtcblxuXG4vL1RyYXNoIERlbGV0ZSBzZWFyY2ggZXZlbnRzXG4gICQoJy5mYS1mYS10cmFzaCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykucGFyZW50KCkuaGlkZSgpO1xuICAgIGNvbnNvbGUubG9nKCdUcmFzaCBkZWxldGUgY2xpY2tlZCAnKTtcbiAgfSk7XG5cblxuXG4vL0FkbWluIEluZGV4XG4gIFxuICBjb25zb2xlLmxvZygnZXZlbnRzJyAsIGFFdmVudHMpO1xuICBcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbiJdfQ==
